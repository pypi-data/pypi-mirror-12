(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.nbpresentNotebook = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){var a=e,o=t,l=r;u=i=s=void 0,n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(l)}var i=Object.getPrototypeOf(a);if(null===i)return void 0;e=i,t=o,r=l,n=!0}},_standalone=require("./standalone"),_baseJsNamespace=require("base/js/namespace"),_baseJsNamespace2=_interopRequireDefault(_baseJsNamespace),CellManager=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"getCells",value:function(){return _baseJsNamespace2["default"].notebook.get_cells().reduce(function(e,t){return t.metadata.nbpresent&&(e[t.metadata.nbpresent.id]=t),e},{})}}]),t}(_standalone.CellManager);exports.CellManager=CellManager;

},{"./standalone":2,"base/js/namespace":"base/js/namespace"}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_parts=require("../parts");window.html2canvas=_nbpresentDeps.html2canvas;var _thumbs=new Map,CellManager=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getCells",value:function(){var e={};return _nbpresentDeps.d3.selectAll(".cell").each(function(){var t=_nbpresentDeps.d3.select(this),n=t.attr("data-nbpresent-id");n&&(e[n]={element:[t.node()]})}),e}},{key:"getPart",value:function(e){var t=this.getCells()[e.cell];if(!t)return null;var n=_nbpresentDeps.d3.select(t.element[0]),r=n.select(_parts.PART_SELECT[e.part]);return r}},{key:"thumbnail",value:function(e){if(!_thumbs.get(e)){var t=this.getPart(e);if(t=t?t.node():null,!t)return Promise.reject(e);_thumbs.set(e,(0,_nbpresentDeps.html2canvas)(t).then(function(e){return{canvas:e,uri:e.toDataURL("image/png"),width:e.width,height:e.height}},function(e){console.log(e)}))}return _thumbs.get(e)}}]),e}();exports.CellManager=CellManager;

},{"../parts":8,"nbpresent-deps":"nbpresent-deps"}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_nbpresentDeps=require("nbpresent-deps"),_regiontree=require("./regiontree"),directions=["nw","n","ne","e","se","s","sw","w"],Editor=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.slide=t,this.selectedRegion=n,this.regions=this.slide.select("regions"),this.x=_nbpresentDeps.d3.scale.linear(),this.y=_nbpresentDeps.d3.scale.linear(),this.initUI(),this.sidebar=new _regiontree.RegionTree(this.slide,this.selectedRegion),this.initBehavior(),this.update(),this.slide.on("update",function(){i.killed||i.update()})}return _createClass(e,[{key:"destroy",value:function(){this.sidebar.destroy(),this.$ui.transition().style({opacity:0}).remove(),this.killed=!0}},{key:"initUI",value:function(){this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({nbpresent_editor:1}).style({opacity:0}),this.$bg=this.$ui.append("div").classed({slide_bg:1}),this.$svg=this.$bg.append("svg"),this.$ui.transition().style({opacity:1})}},{key:"initBehavior",value:function(){var e=this,t=this.x,n=this.y,i=void 0,r=void 0,s=void 0,a=void 0;this.regionDrag=_nbpresentDeps.d3.behavior.drag().on("dragstart",function(e){_nbpresentDeps.d3.select(this.parentNode).classed({dragging:1});i=e.value.x,r=e.value.y}).on("drag",function(e){i+=t.invert(_nbpresentDeps.d3.event.dx),r+=n.invert(_nbpresentDeps.d3.event.dy);_nbpresentDeps.d3.select(this.parentNode).attr({transform:function(e){return"translate("+[t(i),n(r)]+")"}})}).on("dragend",function(t){_nbpresentDeps.d3.select(this.parentNode).classed({dragging:0});e.regions.merge(t.key,{x:i,y:r})}),this.handleDrag=_nbpresentDeps.d3.behavior.drag().origin(function(e){return{x:0,y:0}}).on("dragstart",function(e){_nbpresentDeps.d3.select(this).classed({dragging:1});i=e.region.value.x,r=e.region.value.y,s=e.region.value.width,a=e.region.value.height}).on("drag",function(e){var d=(_nbpresentDeps.d3.select(this),_nbpresentDeps.d3.select(this.parentNode)),o=t.invert(_nbpresentDeps.d3.event.dx),l=n.invert(_nbpresentDeps.d3.event.dy);/n/.test(e.dir)&&(r+=l,a-=l),/e/.test(e.dir)&&(s+=o),/s/.test(e.dir)&&(a+=l),/w/.test(e.dir)&&(i+=o,s-=o),d.attr({transform:function(e){return"translate("+[t(i),n(r)]+")"}}).select(".region_bg").attr({width:t(s),height:n(a)}),d.selectAll(".handle").attr({cx:function(e){return t(/w/.test(e.dir)?0:/e/.test(e.dir)?s:s/2)},cy:function(e){return n(/n/.test(e.dir)?0:/s/.test(e.dir)?a:a/2)}})}).on("dragend",function(t){_nbpresentDeps.d3.select(this).classed({dragging:0});e.regions.merge(t.region.key,{x:i,y:r,width:s,height:a})})}},{key:"padding",value:function(){return 20}},{key:"aspectRatio",value:function(){return 16/9}},{key:"update",value:function(){var e=this,t=this.$ui.node().getBoundingClientRect(),n=t.width-(this.sidebar.width()+2*this.padding()),i=n/this.aspectRatio(),r=_nbpresentDeps.d3.entries(this.regions.get()),s=this.selectedRegion.get()||{};s.slide,s.region;i>t.height+2*this.padding()&&(i=t.height-2*this.padding(),n=i*this.aspectRatio()),this.x.range([0,n]),this.y.range([0,i]);var a=this.x,d=this.y;this.$bg.style({left:(t.width+this.sidebar.width()-n)/2+"px",top:(t.height-i)/2+"px",width:n+"px",height:i+"px"}),this.$svg.attr({width:n,height:i});var o=this.$svg.selectAll(".region").data(r,function(e){return e.key});o.exit().remove();var l=function(e){return directions.map(function(t){return{region:e,dir:t}})};o.enter().append("g").classed({region:1}).call(function(t){t.append("rect").classed({region_bg:1}).call(e.regionDrag);var n=t.selectAll(".handle").data(l);n.enter().append("circle").classed({handle:1}).attr({r:5}).call(e.handleDrag)}).on("click",function(t){e.selectedRegion.set({slide:e.slide.get("id"),region:t.key})}),o.attr({transform:function(e){return"translate("+[a(e.value.x),d(e.value.y)]+")"}}).select(".region_bg").attr({width:function(e){return a(e.value.width)},height:function(e){return d(e.value.height)}}),o.selectAll(".handle").data(l).attr({cx:function(e){return a(/w/.test(e.dir)?0:/e/.test(e.dir)?e.region.value.width:e.region.value.width/2)},cy:function(e){return d(/n/.test(e.dir)?0:/s/.test(e.dir)?e.region.value.height:e.region.value.height/2)}})}}]),e}();exports.Editor=Editor;

},{"./regiontree":11,"nbpresent-deps":"nbpresent-deps"}],4:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_nbpresentDeps=require("nbpresent-deps"),_mini=require("./mini"),layouts=[{regions:[{x:.1,y:.1,width:.8,height:.6},{x:.1,y:.7,width:.4,height:.2},{x:.5,y:.7,width:.4,height:.2}]},{regions:[{x:.1,y:.1,width:.8,height:.8}]},{regions:[{x:.1,y:.1,width:.2,height:.8},{x:.4,y:.1,width:.2,height:.8},{x:.7,y:.1,width:.2,height:.8}]},{regions:[{x:.1,y:.1,width:.4,height:.4},{x:.5,y:.1,width:.4,height:.4},{x:.1,y:.5,width:.4,height:.4},{x:.5,y:.5,width:.4,height:.4}]}],LayoutLibrary=function(){function e(i){_classCallCheck(this,e),this.picked=i,this.initUI(),this.mini=new _mini.MiniSlide,this.fakeSlide=this.fakeSlide.bind(this),this.update=this.update.bind(this),this.update()}return _createClass(e,[{key:"destroy",value:function(){this.$ui.transition().style({opacity:0}).remove(),this.killed=!0}},{key:"fakeSlide",value:function(e){var i=_nbpresentDeps.uuid.v4();return{key:i,value:{id:i,regions:e.regions.reduce(function(e,i){var t=_nbpresentDeps.uuid.v4();return e[t]=_jquery2["default"].extend({},{id:t},i),e},{})}}}},{key:"initUI",value:function(){var e=this;this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({nbpresent_layout_library:1}),this.$ui.append("button").classed({btn:1,hide_library:1,"btn-default":1}).on("click",function(){return e.destroy()}).append("i").classed({fa:1,"fa-remove":1}),this.$ui.append("h3").classed({from_template:1}).text("Pick template"),this.$ui.append("h3").classed({from_slide:1}).text("Reuse slide as template")}},{key:"update",value:function(){var e=this.$ui.selectAll(".slide").data(layouts.map(this.fakeSlide));e.enter().append("div").classed({slide:1}).call(this.mini.update),e.on("click",this.picked)}}]),e}();exports.LayoutLibrary=LayoutLibrary;

},{"./mini":5,"jquery":"jquery","nbpresent-deps":"nbpresent-deps"}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_cellsNotebook=require("./cells/notebook"),_parts=require("./parts"),MiniSlide=function(){function e(t){_classCallCheck(this,e),this.selectedRegion=t,this.cellManager=new _cellsNotebook.CellManager,this._regions=function(e,t){return e.value.regions},this.update=this.update.bind(this),this.clicked=this.clicked.bind(this)}return _createClass(e,[{key:"regions",value:function(e){return arguments.length?[this._regions=d3.functor(e),this][1]:this._regions}},{key:"hasContent",value:function(e){return function(t){return(t.region.value.content||{}).part===e}}},{key:"clicked",value:function(e){if(this.selectedRegion){var t=this.selectedRegion.get()||{},n=t.slide,i=t.region;return n===e.slide.key&&i===e.region.key?this.selectedRegion.set(null):void this.selectedRegion.set({slide:e.slide.key,region:e.region.key})}}},{key:"update",value:function(e){var t=this,n=this;e.classed({mini:1});var i=e.selectAll(".region").data(function(e){return d3.entries(t._regions(e)).map(function(t){return{slide:e,region:t}})});i.enter().append("div").classed({region:1}).on("click",this.clicked),i.exit().remove();var r=this.selectedRegion&&this.selectedRegion.get()||{},o=r.slide,s=r.region;i.classed({active:function(e){return e.slide.key===o&&e.region.key===s},content_source:this.hasContent(_parts.PART.source),content_outputs:this.hasContent(_parts.PART.outputs),content_widgets:this.hasContent(_parts.PART.widgets)}).style({width:function(e){return 160*e.region.value.width+"px"},height:function(e){return 90*e.region.value.height+"px"},left:function(e){return 160*e.region.value.x+"px"},top:function(e){return 90*e.region.value.y+"px"}}),i.filter(function(e){return e.region.value.content}).filter(function(e){var t=d3.select(this);return t.classed("active")||"none"===t.style("background-image")}).each(function(e){var t=d3.select(this);n.cellManager.thumbnail(e.region.value.content)["catch"](function(e){t.style({background:"#333","background-image":null})}).then(function(e){var n=e.uri;e.width,e.height;t.style({background:null,"background-image":'url("'+n+'")'})})})}}]),e}();exports.MiniSlide=MiniSlide;

},{"./cells/notebook":1,"./parts":8}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mode=function(){function e(t){_classCallCheck(this,e),this.root=t,this.initStylesheet(),this.init()}return _createClass(e,[{key:"initStylesheet",value:function(){var e=d3.select("head").selectAll("link#nbpresent-css").data([1]);return e.node()?void console.warn("nbpresent extension already loaded!"):void e.enter().append("link").attr({id:"nbpresent-css"}).attr({rel:"stylesheet",href:this.root+"/nbpresent.min.css"})}}]),e}();exports.Mode=Mode;

},{}],7:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_get=function(e,t,r){for(var o=!0;o;){var n=e,s=t,a=r;i=l=u=void 0,o=!1,null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,s);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return void 0;e=l,t=s,r=a,o=!0}},_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_baseJsNamespace=require("base/js/namespace"),_baseJsNamespace2=_interopRequireDefault(_baseJsNamespace),_notebookJsCelltoolbar=require("notebook/js/celltoolbar"),_nbpresentDeps=require("nbpresent-deps"),_presenterNotebook=require("../presenter/notebook"),_sorter=require("../sorter"),_parts=require("../parts"),_tour=require("../tour"),_tree=require("../tree"),_base=require("./base"),NotebookMode=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"init",value:function(){var e=this,t=new _tree.Tree({slides:this.metadata().slides,root:this.root});this.tree=t.tree,this.slides=this.tree.select(["slides"]),this.slides.on("update",function(){return e.metadata(!0)}),this.tour=new _tour.Tour(this),this.tour.init(),this.presenter=new _presenterNotebook.NotebookPresenter(this.tree,this.tour),this.sorter=new _sorter.Sorter(this.tree,this.tour),this.initToolbar()}},{key:"metadata",value:function(e){var t=_baseJsNamespace2["default"].notebook.metadata;return e?void(t.nbpresent={slides:this.slides.serialize()}):t.nbpresent||{slides:{}}}},{key:"show",value:function(){this.sorter.show(),this.tour.start(),(0,_jquery2["default"])("#header-container").toggle(),(0,_jquery2["default"])(".header-bar").toggle()}},{key:"present",value:function(){this.presenter.presenting.set(!0)}},{key:"unpresent",value:function(){this.presenter.presenting.set(!1)}},{key:"initToolbar",value:function(){var e=this;(0,_jquery2["default"])("#view_menu").append((0,_jquery2["default"])("<li/>").append((0,_jquery2["default"])("<a/>").text("Toggle Present").on("click",function(){e.show()}))),_baseJsNamespace2["default"].toolbar.add_buttons_group([{label:"Slide Sorter",icon:"fa-th-large",callback:function(){return e.show()},id:"nbpresent_sorter_btn"},{label:"Present",icon:"fa-youtube-play",callback:function(){return e.present()},id:"nbpresent_present_btn"}]);var t=this,r=[],o=function(e,r){var o=_nbpresentDeps.d3.select(e[0]);o.append("i").attr("class","fa fa-link"),o.append("span").text(" Region ");o.selectAll(".btn").data([_parts.PART.source,_parts.PART.outputs,_parts.PART.widgets]).enter().append("button").classed({btn:1,"btn-default":1,"btn-xs":1}).text(function(e){return e}).on("click",function(e){return t.sorter.linkContent(e)})};_notebookJsCelltoolbar.CellToolbar.register_callback("nbpresent.add_to_region",o),r.push("nbpresent.add_to_region"),_notebookJsCelltoolbar.CellToolbar.register_preset("nbpresent",r,_baseJsNamespace2["default"].notebook)}}]),t}(_base.Mode);exports["default"]=NotebookMode,module.exports=exports["default"];

},{"../parts":8,"../presenter/notebook":10,"../sorter":12,"../tour":14,"../tree":15,"./base":6,"base/js/namespace":"base/js/namespace","jquery":"jquery","nbpresent-deps":"nbpresent-deps","notebook/js/celltoolbar":"notebook/js/celltoolbar"}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PART={source:"source",outputs:"outputs",widgets:"widgets"},PART_SELECT={source:".inner_cell",outputs:".output_wrapper",widgets:".widget-area .widget-subarea"};exports.PART=PART,exports.PART_SELECT=PART_SELECT;

},{}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_toolbar=require("../toolbar"),_parts=require("../parts"),PREFIX=["-webkit-","-moz-","-ms-","-o-",""],Presenter=function(){function e(t){var n=this;_classCallCheck(this,e),this.tree=t,this.cellManager=this.makeCellManager(),this.initUI(),this.x=_nbpresentDeps.d3.scale.linear(),this.y=_nbpresentDeps.d3.scale.linear(),this.presenting=this.tree.select(["presenter","presenting"]),this.current=this.tree.select(["presenter","current"]),this.presenting.on("update",function(){return n.present()}),this.current.on("update",function(){return n.update()})}return _createClass(e,[{key:"makeCellManager",value:function(){throw new Error("Not implemented")}},{key:"initUI",value:function(){this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({nbpresent_presenter:1}).style({display:"none"}),this.initToolbar()}},{key:"toolbarIcons",value:function(){var e=this;return[[{icon:"fast-backward",click:function(){return e.current.set(0)},tip:"Back to Start"}],[{icon:"step-backward",click:function(){return e.current.set(e.current.get()-1)},tip:"Previous Slide"}],[{icon:"step-forward",click:function(){return e.current.set(e.current.get()+1)},tip:"Next Slide"}]]}},{key:"initToolbar",value:function(){var e=new _toolbar.Toolbar;e.btnGroupClass("btn-group-vertical").btnClass("btn-invert btn-lg").tipOptions({container:"body",placement:"bottom"}),this.$toolbar=this.$ui.append("div").classed({presenter_toolbar:1}).datum(this.toolbarIcons()).call(e.update)}},{key:"present",value:function(){this.current.set(null),this.current.set(0)}},{key:"getCells",value:function(){return this.cellManager.getCells()}},{key:"update",value:function(){var e=this,t=this.presenting.get();if(this.$ui.style({display:t?"block":"none"}).transition().style({opacity:+t}),!t)return this.clean(!0);var n=document.documentElement,r=n.clientWidth,s=n.clientHeight;this.x.range([0,r]),this.y.range([0,s]);var l=this.tree.get("sortedSlides")[this.current.get()];if(!l)return this.current.set(0);var i=this.getCells();_nbpresentDeps.d3.selectAll(this.allPartSelect()).classed({nbpresent_unpresent:1,nbpresent_present:0}),_nbpresentDeps.d3.entries(l.value.regions).filter(function(e){var t=e.value;return t.content}).map(function(t){var n=t.value,r=n.content,s=n.x,l=n.y,a=n.width,c=n.height,u=i[r.cell];if(u){var o=_nbpresentDeps.d3.select(u.element[0]),p=o.select(_parts.PART_SELECT[r.part]);p.classed({nbpresent_unpresent:0,nbpresent_present:1}).style({transform:"translate("+e.x(s)+"px, "+e.y(l)+"px) translateZ(0)",left:"0",top:"0",width:e.x(a)+"px",height:e.y(c)+"px"})}}),this.clean()}},{key:"allPartSelect",value:function(){return _nbpresentDeps.d3.entries(_parts.PART_SELECT).map(function(e){var t=e.value;return".cell "+t}).join(", ")}},{key:"clean",value:function(e){e&&_nbpresentDeps.d3.selectAll(this.allPartSelect()).classed({nbpresent_unpresent:1,nbpresent_present:0}),_nbpresentDeps.d3.selectAll(".nbpresent_unpresent").style({transform:null,left:null,top:null,width:null,height:null}).classed({nbpresent_unpresent:0,nbpresent_present:0})}}]),e}();exports.Presenter=Presenter;

},{"../parts":8,"../toolbar":13,"nbpresent-deps":"nbpresent-deps"}],10:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_get=function(e,t,o){for(var r=!0;r;){var n=e,a=t,c=o;i=u=l=void 0,r=!1,null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(void 0!==i){if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(c)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;e=u,t=a,o=c,r=!0}},_cellsNotebook=require("../cells/notebook"),_base=require("./base"),NotebookPresenter=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"makeCellManager",value:function(){return new _cellsNotebook.CellManager}},{key:"toolbarIcons",value:function(){var e=this;return _get(Object.getPrototypeOf(t.prototype),"toolbarIcons",this).call(this).concat([[{icon:"book",click:function(){return e.presenting.set(!1)},tip:"Back to Notebook"}]])}}]),t}(_base.Presenter);exports.NotebookPresenter=NotebookPresenter;

},{"../cells/notebook":1,"./base":9}],11:[function(require,module,exports){
"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),_nbpresentDeps=require("nbpresent-deps"),_toolbar=require("./toolbar"),_mini=require("./mini"),RegionTree=function(){function e(i,t){_classCallCheck(this,e),this.slide=i,this.selectedRegion=t,this.mini=new _mini.MiniSlide(this.selectedRegion).regions(function(e){var i={};return i[e.region.id]=e.region,i}),this.initUI(),this.update(),this.update=this.update.bind(this),this.slide.on("update",this.update),this.selectedRegion.on("update",this.update)}return _createClass(e,[{key:"destroy",value:function(){this.$ui.transition().style({opacity:0}).remove(),this.killed=!0}},{key:"width",value:function(){return 200}},{key:"initUI",value:function(){var e=this;this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({nbpresent_regiontree:1});var i=new _toolbar.Toolbar;this.$toolbar=this.$ui.append("div").datum([[{icon:"plus-square-o",click:function(){return e.addRegion()},tip:"Add Region"}]]).call(i.update)}},{key:"addRegion",value:function(){var e=_nbpresentDeps.uuid.v4();this.slide.set(["regions",e],{id:e,x:.1,y:.1,width:.8,height:.8})}},{key:"update",value:function(){if(!this.killed){var e=_nbpresentDeps.d3.entries(this.slide.get("regions")),i=this.$ui.selectAll(".region_info").data(e,function(e){return e.key}),t=this.slide.get();i.enter().append("div").classed({region_info:1});var n=i.selectAll(".slide").data(function(e){return[{value:t,key:t.id,region:e.value}]});n.enter().append("div").classed({slide:1}),n.exit().remove(),n.call(this.mini.update)}}}]),e}();exports.RegionTree=RegionTree;

},{"./mini":5,"./toolbar":13,"nbpresent-deps":"nbpresent-deps"}],12:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_nbpresentDeps=require("nbpresent-deps"),_baseJsNamespace=require("base/js/namespace"),_baseJsNamespace2=_interopRequireDefault(_baseJsNamespace),_editor=require("./editor"),_toolbar=require("./toolbar"),_parts=require("./parts"),_mini=require("./mini"),_layouts=require("./layouts"),REMOVED="<removed>",Sorter=function(){function e(t,i){var s=this;_classCallCheck(this,e),this.tree=t,this.tour=i,this.layoutPicked=this.layoutPicked.bind(this),this.visible=this.tree.select(["sorter","visible"]),this.visible.set(!1),this.slides=this.tree.select(["slides"]),this.selectedSlide=this.tree.select(["sorter","selectedSlide"]),this.selectedRegion=this.tree.select(["sorter","selectedRegion"]),this.selectedSlide.on("update",function(){return s.updateSelectedSlide()}),this.selectedRegion.on("update",function(){return s.updateSelectedRegion()}),this.slides.on("update",function(){return s.draw()}),this.scale={x:_nbpresentDeps.d3.scale.linear()},this.mini=new _mini.MiniSlide(this.selectedRegion),this.drawn=!1}return _createClass(e,[{key:"show",value:function(){this.drawn||(this.initUI(),this.drawn=!0),this.selectedSlide.set(null),this.selectedRegion.set(null);this.visible.set(!this.visible.get());this.update(),this.visible&&this.draw()}},{key:"update",value:function(){var e=this.visible.get();this.$view.classed({offscreen:!e}).style({display:e?"block":"none"}),_nbpresentDeps.d3.select("#notebook").style({"margin-bottom":e?"100px":null})}},{key:"initUI",value:function(){var e=this;this.$view=_nbpresentDeps.d3.select("body").append("div").classed({nbpresent_sorter:1,offscreen:1}).style({display:"none"}),this.$slides=this.$view.append("div").classed({slides_wrap:1});var t=this.$view.append("h4").classed({nbpresent_brand:1}).append("a").attr({href:"https://continuumio.github.io/nbpresent/",target:"_blank"});t.append("i").attr("class","fa fa-fw fa-gift"),t.append("span").text("nbpresent"),this.$empty=this.$slides.append("h3").classed({empty:1}).text("No slides yet.");this.$view.append("div").classed({nbpresent_help:1}).append("a").attr({href:"#"}).on("click",function(){return e.tour.restart()}).append("i").attr("class","fa fa-question-circle");this.initToolbar(),this.initDrag()}},{key:"initDrag",value:function(){var e=this,t=void 0;this.drag=_nbpresentDeps.d3.behavior.drag().on("dragstart",function(e){var i=_nbpresentDeps.d3.select(this).classed({dragging:1});t=parseFloat(i.style("left"))}).on("drag",function(e){_nbpresentDeps.d3.select(this).style({left:(t+=_nbpresentDeps.d3.event.dx)+"px"})}).on("dragend",function(t,i){var s=_nbpresentDeps.d3.select(this).classed({dragging:0}),n=parseFloat(s.style("left")),l=e.tree.get("sortedSlides"),r=Math.floor(n/e.slideWidth()),a=void 0;a=n<e.slideWidth()||0>r?null:r>l.length||!l[r]?l.slice(-1)[0].key:l[r].key,t.key!==a?(e.unlinkSlide(t.key),e.selectedSlide.set(e.appendSlide(a,t.key))):e.draw()})}},{key:"slideHeight",value:function(){return 100}},{key:"slideWidth",value:function(){return 200}},{key:"copySlide",value:function(e){var t=this,i=JSON.parse(JSON.stringify(e));return i.id=this.nextId(),i.regions=_nbpresentDeps.d3.entries(i.regions).reduce(function(e,i){var s=t.nextId();return e[s]=$.extend(!0,{},i.value,{id:s,content:null}),e},{}),i}},{key:"slideClicked",value:function(e){if(this.layouts){var t=this.copySlide(e.value);return this.layoutPicked({key:t.id,value:t}),this.layouts&&this.layouts.destroy(),void(this.layouts=null)}this.selectedSlide.set(e.key)}},{key:"draw",value:function(){var e=this,t=this.tree.get("sortedSlides");this.scale.x.range([0,this.slideWidth()]);var i=this.$slides.selectAll(".slide").data(t,function(e){return e.key});i.enter().append("div").classed({slide:1}).call(this.drag).on("click",function(t){e.slideClicked(t)}),i.exit().transition().style({top:"200px"}).remove();var s=this.selectedSlide.get(),n=this.selectedRegion.get(),l=void 0;i.style({"z-index":function(e,t){return t}}).classed({active:function(e){return e.key===s}}).transition().delay(function(e,t){return 10*t}).style({left:function r(t,i){var r=e.scale.x(i);return t.key===s&&(l=r),r+"px"}}),i.call(this.mini.update),this.$regionToolbar.transition().style({opacity:n?1:0,display:n?"block":"none",left:l+"px"}),this.$empty.transition().style({opacity:1*!i[0].length}).transition().style({display:i[0].length?"none":"block"}),this.$deckToolbar.call(this.deckToolbar.update)}},{key:"updateSelectedRegion",value:function(){var e=this.selectedRegion.get()||{},t=e.slide,i=e.region;if(i){this.selectedSlide.set(t);var s=this.slides.get([t,"regions",i,"content"]);s&&this.selectCell(s.cell)}else this.$regionToolbar.transition().style({opacity:0}).transition().style({display:"none"});this.draw()}},{key:"selectCell",value:function(e){_baseJsNamespace2["default"].notebook.get_cells().filter(function(t,i){t.metadata.nbpresent&&t.metadata.nbpresent.id==e&&_baseJsNamespace2["default"].notebook.select(i)})}},{key:"updateSelectedSlide",value:function(){var e=this.selectedSlide.get(),t=this.selectedRegion.get()||{};t.slide!=e&&this.selectedRegion.set(null),this.draw(),this.editor&&this.editSlide(e)}},{key:"initToolbar",value:function(){var e=this;this.deckToolbar=(new _toolbar.Toolbar).btnClass("btn-default btn-lg"),this.$deckToolbar=this.$view.append("div").classed({deck_toolbar:1}).datum([[{icon:"plus-square-o",click:function(){return e.addSlide()},tip:"Add Slide"}],[{icon:"edit",click:function(){return e.editSlide(e.selectedSlide.get())},tip:"Edit Slide",visible:function(){return e.selectedSlide.get()&&!e.editor}},{icon:"chevron-circle-down",click:function(){return e.editSlide(e.selectedSlide.get())},tip:"Back to Sorter",visible:function(){return e.editor}}],[{icon:"trash",click:function(){e.removeSlide(e.selectedSlide.get()),e.selectedSlide.set(null)},tip:"Delete Slide",visible:function(){return e.selectedSlide.get()}}]]).call(this.deckToolbar.update),this.regionToolbar=new _toolbar.Toolbar,this.$regionToolbar=this.$slides.append("div").classed({region_toolbar:1}).datum([[{icon:"external-link-square",click:function(){return e.linkContent(_parts.PART.source)},tip:"Link Region to Cell Input"},{icon:"external-link",click:function(){return e.linkContent(_parts.PART.outputs)},tip:"Link Region to Cell Output"},{icon:"sliders",click:function(){return e.linkContent(_parts.PART.widgets)},tip:"Link Region to Cell Widgets"}],[{icon:"unlink",click:function(){return e.linkContent(null)},tip:"Unlink Region"}]]).call(this.regionToolbar.update)}},{key:"linkContent",value:function(e){var t=this.selectedRegion.get()||{},i=t.slide,s=t.region,n=_baseJsNamespace2["default"].notebook.get_selected_cell(),l=void 0;s&&n&&(e?(n.metadata.nbpresent||(n.metadata.nbpresent={id:this.nextId()}),l=n.metadata.nbpresent.id,this.slides.set([i,"regions",s,"content"],{cell:l,part:e})):this.slides.unset([i,"regions",s,"content"]))}},{key:"addSlide",value:function(){!this.layouts||this.layouts.killed?this.layouts=new _layouts.LayoutLibrary(this.layoutPicked):(this.layouts.destroy(),this.layouts=null)}},{key:"layoutPicked",value:function(e){var t=this.tree.get("sortedSlides").slice(-1),i=this.selectedSlide.get();this.slides.set([e.key],e.value);var s=this.appendSlide(i?i:t.length?t[0].key:null,e.key);this.selectedSlide.set(s),this.layouts.destroy(),this.layouts=null}},{key:"editSlide",value:function(e){this.editor&&(this.editor.slide.get("id")===e&&(e=null),this.editor.destroy(),this.editor=null),e&&(this.editor=new _editor.Editor(this.slides.select(e),this.selectedRegion)),this.draw()}},{key:"nextId",value:function(){return _nbpresentDeps.uuid.v4()}},{key:"unlinkSlide",value:function(e){var t=this.slides.get(e),i=t.prev,s=this.nextSlide(e);s&&this.slides.set([s,"prev"],i),this.slides.set([e,"prev"],REMOVED)}},{key:"removeSlide",value:function(e){e&&(this.unlinkSlide(e),this.slides.unset(e))}},{key:"nextSlide",value:function(e){var t=this.tree.get("sortedSlides"),i=t.filter(function(t){return t.value.prev===e});return i.length?i[0].key:null}},{key:"newSlide",value:function(e,t){return{id:e,prev:t,regions:{}}}},{key:"appendSlide",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=this.nextSlide(e);return t?this.slides.set([t,"prev"],e):(t=this.nextId(),this.slides.set(t,this.newSlide(t,e))),i&&this.slides.set([i,"prev"],t),t}}]),e}();exports.Sorter=Sorter;

},{"./editor":3,"./layouts":4,"./mini":5,"./parts":8,"./toolbar":13,"base/js/namespace":"base/js/namespace","nbpresent-deps":"nbpresent-deps"}],13:[function(require,module,exports){
"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),_nbpresentDeps=require("nbpresent-deps"),fn=_nbpresentDeps.d3.functor,Toolbar=function(){function t(){_classCallCheck(this,t),this._btnClass=fn("btn-default"),this._btnGroupClass=fn("btn-group"),this._tipOptions=fn({container:"body"}),this.update=this.update.bind(this)}return _createClass(t,[{key:"btnClass",value:function(t){return arguments.length?[this._btnClass=fn(t),this][1]:this._btnClass}},{key:"tipOptions",value:function(t){return arguments.length?[this._tipOptions=fn(t),this][1]:this._tipOptions}},{key:"btnGroupClass",value:function(t){return arguments.length?[this._btnGroupClass=fn(t),this][1]:this._btnGroupClass}},{key:"update",value:function(t){var n=this,e=this;t.classed({"btn-toolbar":1});var r=t.selectAll(".btn-toolbar-group").data(function(t){return t});r.enter().append("div").classed({"btn-toolbar-group":1}).classed(this._btnGroupClass(),1);var s=r.selectAll(".btn").data(function(t){return t},function(t){return t.tip});s.enter().append("a").attr("class",function(t){return"btn "+n._btnClass(t)}).attr({title:function(t){return t.tip}}).each(function(t){$.fn.tooltip&&$(this).tooltip(e._tipOptions(t))}).append("i"),s.on("click",function(t){return t.click()}).select("i").attr({"class":function(t){return"fa fa-fw fa-"+t.icon}});var i=function(){$(this).tooltip("destroy")};s.filter(function(t){return t.visible&&!t.visible()}).each(i).remove(),s.exit().each(i).remove(),r.exit().remove()}}]),t}();exports.Toolbar=Toolbar;

},{"nbpresent-deps":"nbpresent-deps"}],14:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_bootstraptour=require("bootstraptour"),_bootstraptour2=_interopRequireDefault(_bootstraptour),_parts=require("./parts"),NbpresentTour=function(){function e(t){var n=this;_classCallCheck(this,e),this.nbpresent=t;var o=function(e,t){return d3.selectAll(e).classed({fake_hover:t})};this.tour=new _bootstraptour2["default"]({reflex:!0,onStart:function(){console.log("tour started")},orphan:!0,steps:[{element:"#nbpresent_sorter_btn",title:"Thanks for using nbpresent",content:"You just activated the nbpresent Sorter! Click Next to take the tour"},{element:"#nbpresent_sorter_btn",title:"This is the nbpresent Sorter",content:"You can add, reorder and remix your slides into a great presentation"},{element:"#nbpresent_present_btn",title:"This is the nbpresent Presenter",content:"With the Presenter, you can view that presentation, tweak the content in-place, and publish it to the world. But first..."},{element:".deck_toolbar .fa-plus-square-o",title:"This is the Deck Toolbar",content:"Let's create a new slide",onNext:function(){return n.nbpresent.sorter.addSlide()}},{element:".from_template",title:"Template Library",position:"top",content:"You can pick from some existing templates..."},{element:".from_slide",title:"Reuse Slide as Template",position:"top",content:"Or copy an existing slide"},{element:".nbpresent_layout_library .slide:nth-of-type(2)",title:"Simple Template",position:"top",content:"Let's use this one",onNext:function(){return n.nbpresent.sorter.layoutPicked(d3.select(".nbpresent_layout_library .slide:nth-of-type(2)").datum())}},{element:".slides_wrap .slide:last-child",placement:"top",title:"Look at the slide, just look at it",content:"Here's our new slide"},{element:".slides_wrap .slide:last-child .region",placement:"left",title:"Region",onShow:function(){var e=d3.select(".slides_wrap .slide:last-child .region");e.on("click")(e.datum())},content:"It has one Region"},{element:".region_toolbar .fa-external-link-square",placement:"top",title:"Cell Part",content:"You put a Part of a cell into a Region. The Parts are Inputs, like source code or Markdown..."},{element:".region_toolbar .fa-external-link",placement:"top",title:"Cell Part: Outputs",content:"... the Outputs, such as calculations, tables and figures..."},{element:".region_toolbar .fa-sliders",placement:"top",title:"Cell Part: Widgets",content:"...and interactive Widgets, including sliders and knobs."},{element:".region_toolbar .fa-unlink",placement:"top",title:"Cell Part: Unlinking",content:"Since a Part can be linked to more than one Region, you might need to Unlink one."},{element:".cell.selected",placement:"left",title:"Linking an Input Part",content:"Let's use this cell input"},{element:".slides_wrap .slide:last-child .region",placement:"left",title:"Part Thumbnail",content:"A part thumbnail might look a little funny, but you should usually be able to get an idea of what you're seeing.",onShow:function(){return n.nbpresent.sorter.linkContent(_parts.PART.source)}},{title:"Achievement Unlocked: Presentation",content:"We're ready to look at the presentation!"},{element:"#nbpresent_present_btn",title:"Great, let's have a look",content:"Clicking this button brings up the Presenter",onNext:function(){return n.nbpresent.present()}},{title:"Looks great!",content:"Your slide is still made up of your notebook"},{element:".nbpresent_present",placement:"top",title:"Same Notebook, Different Day",content:"This is an editable input area"},{element:".nbpresent_present",placement:"top",title:"Part Execution",content:"Inputs can even be executed with keyboard shortcuts like Ctrl+Enter"},{element:".presenter_toolbar .fa-step-forward",title:"Go forward",content:"Click here to go to the next Slide",placement:"bottom",onShown:function(){return o(".presenter_toolbar",!0)},onHidden:function(){return o(".presenter_toolbar",0)}},{element:".presenter_toolbar .fa-step-backward",title:"Go back",content:"Clicking here to go back to the previous slide",placement:"bottom",onShown:function(){return o(".presenter_toolbar",!0)},onHidden:function(){return o(".presenter_toolbar",0)}},{element:".presenter_toolbar .fa-fast-backward",title:"Go back to the beginning",content:"Clicking here to go back to the first Slide",placement:"bottom",onShown:function(){return o(".presenter_toolbar",!0)},onHidden:function(){return o(".presenter_toolbar",0)}},{element:".presenter_toolbar .fa-book",title:"My work is done here",content:"Click here to go back to the Notebook",placement:"bottom",onShown:function(){return o(".presenter_toolbar",!0)},onHidden:function(){return o(".presenter_toolbar",0)&&n.nbpresent.unpresent()}},{element:".deck_toolbar .fa-edit",title:"Edit Slide",content:"If you need more control, you can edit a Slide's Regions directly",placement:"top",onHidden:function(){return n.nbpresent.sorter.editSlide(n.nbpresent.sorter.selectedSlide.get())}},{element:".nbpresent_editor .slide_bg",placement:"top",title:"Region Editor",content:"This is the Region editor. You can click and drag Regions around and resize them."},{element:".nbpresent_regiontree",placement:"right",title:"Region Tree",content:"This is the Region tree. It lets you reorder Regions and see the details of how your Regions will show their linked Parts."}]})}return _createClass(e,[{key:"init",value:function(){return this.tour.init(),this}},{key:"start",value:function(){return this.tour.start(),this}},{key:"restart",value:function(){return this.tour.restart(),this}}]),e}();exports.Tour=NbpresentTour;

},{"./parts":8,"bootstraptour":"bootstraptour"}],15:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_nbpresentDeps=require("nbpresent-deps"),Tree=function(){function e(r){_classCallCheck(this,e),this.tree=new _nbpresentDeps.Baobab(_jquery2["default"].extend({slides:{},presenter:{presenting:!1},sorter:{},editor:{},sortedSlides:_nbpresentDeps.Baobab.monkey(["slides"],this.sortedSlides)},r))}return _createClass(e,[{key:"sortedSlides",value:function(e){var r=_nbpresentDeps.d3.entries(e);return r.sort(function(e,r){return null===e.value.prev||e.key===r.value.prev?-1:1}),r}}]),e}();exports.Tree=Tree;

},{"jquery":"jquery","nbpresent-deps":"nbpresent-deps"}]},{},[7])(7)
});