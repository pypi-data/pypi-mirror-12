(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/Buttons.jsx":[function(require,module,exports){
var Button = React.createClass({displayName: "Button",
    render: function() {
        return (
            React.createElement("button", {className: "btn btn-" + this.props.type + " btn-sm", onClick: this.props.clickHandler}, this.props.value)
        )
    }
})

window.Button = Button
module.exports = Button

},{}],"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/IconButton.jsx":[function(require,module,exports){
var IconButton = React.createClass({displayName: "IconButton",
    render: function() {
        return (
            React.createElement("button", {
                className: "btn btn-" + this.props.type + " " + this.props.btnsize, 
                onClick: this.props.clickHandler, 
                id: this.props.btnid
                }, 
                  React.createElement("i", {className: "fa " + (this.props.size ? ("fa-" + this.props.size + " ") : " ") + ("fa-" + this.props.value)})
            )
        )
    }
})

window.IconButton = IconButton
module.exports = IconButton

},{}],"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/Order.jsx":[function(require,module,exports){
var Order = React.createClass({displayName: "Order",
  loadOrder: function(orderid) {
    $.ajax({
      url: api_base + 'orders/' + orderid,
      dataType: 'json',
      success: function(success) {
        this.setState({order: success})
        this.setState({restaurant: success.restaurant})
      }.bind(this),
      error: function(xhr, status, err) {
        console.log(xhr, status, err)
      }.bind(this)
    })
  },

  loadOrderLines: function(path) {
      $.ajax({
      url: path || this.props.url,
      dataType: 'json',
      cache: false,
      success: function(success) {
        var data = this.state.data;
        for (var attrname in success.results) {data[success.results[attrname].id] = success.results[attrname]; }
        this.setState({data: data});
        if (success.next != null) {
            this.loadOrderLines(success.next)
        }
      }.bind(this),
      error: function(xhr, status, error) {
        console.error(xhr, status, error)
      }.bind(this)
    });
  },

  handleOrderLineSubmit: function(orderline) {
    // Submit to server and refresh list
    orderline.csrfmiddlewaretoken = csrftoken;
    orderline.order = order;
    var shouldPut = orderline.id !== ""
    $.ajax({
        url: api_base + "orderlines/" + (shouldPut ? orderline.id : ''),
        beforeSend: function(xhr) {
          xhr.setRequestHeader("X-CSRFToken", getCookie("csrftoken"));
        },
        dateType: 'json',
        type: shouldPut ? 'PUT' : 'POST',
        data: orderline,
        success: function(response) {
            if (shouldPut) {
                var data = this.state.data
                for (var attrname in response) {data[response[attrname].id] = response[attrname]; }
                this.setState({data: data})
                $("#orderline-" + response.id).removeClass("hide") // hacky way to show it again afterwards
            } else {
                this.setState({data: this.state.data.concat(response)})
            }
        }.bind(this),
        error: function(xhr, status, error) {
            console.error(xhr, status, error)
        }.bind(this)
    });
  },

  getInitialState: function() {
    return {
      data: [],
      order: {},
      restaurant: {restaurant_name: ''}
    }
  },

  componentDidMount: function() {
    this.loadOrder(this.props.orderid)
    this.loadOrderLines()
  },

  render: function() {
    var that = this
    var Menu = React.createClass({displayName: "Menu",
      render: function () {
        return (
          React.createElement("span", null, 
            React.createElement("i", {className: "fa fa-cutlery"}), " ", React.createElement("a", {href: that.state.restaurant.menu_url}, "Menu")
          )
        )
      }
    })
    var Phone = React.createClass({displayName: "Phone",
      render: function () {
        return (
          React.createElement("span", null, 
            React.createElement("i", {className: "fa fa-phone"}), " ", React.createElement("a", {href: "tel:" + that.state.restaurant.phone_number}, that.state.restaurant.phone_number)
          )
        )
      }
    })

    return (
      React.createElement("div", {className: "container order"}, 
        React.createElement("div", {className: "row"}, 
          React.createElement("h1", null, "Feedme"), 
          React.createElement("h2", null, 
              this.state.restaurant.restaurant_name, "  ", 
              React.createElement("small", null, 
                React.createElement(Menu, null), "  ", 
                React.createElement(Phone, null)
              )
          ), 
          React.createElement(OrderLineList, {
              apiroot: this.props.apiroot, 
              data: this.state.data, 
              url: this.props.url, 
              extra_costs: this.state.order.extra_costs}
              ), 
          React.createElement(OrderLineForm, {onOrderLineSubmit: this.handleOrderLineSubmit})
        )
      )
    );
  }
});

window.Order = Order
module.exports = Order

},{}],"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/OrderLine.jsx":[function(require,module,exports){
var OrderLine = React.createClass({displayName: "OrderLine",
    getInitialState: function() {
      return {
          orderline: {},
          hidden: false,
          showDelete: false,
          showEdit: false,
          showJoin: false,
          showLeave: false
      }
    },

    loadOrderLine: function(path) {
      $.ajax({
        url: path || api_base + "orderlines/" + this.props.olid,
        success: function(result) {
          // console.log(result)
          this.setState({orderline: result})
        }.bind(this),
        error: function(xhr, err, status) {
          console.log("Something went wrong.", xhr, err, status)
        }.bind(this)
      })
      this.setState({hideOrderLine: false})
    },

    componentDidMount: function() {
      this.loadOrderLine()
    },

    handleRemove: function(orderline) {
      this.setState({hideOrderLine: true})
      this.props.onRemoveOrderLine(orderline)
    },

    handleEdit: function(orderline) {
      // @ToDo: Make this better, and send a callback which updates this state
      // Place values in form
      $("#id").val(orderline.id)
      $("#menu_item").val(orderline.menu_item)
      $("#soda").val(orderline.soda)
      $("#extras").val(orderline.extras)
      $("#price").val(orderline.price)
      $("#users").val(orderline.users)
      this.setState({hideOrderLine: true})

      // On form submit, reload current orderline
      var that = this
      $("#formSubmit").click(function() {
        setTimeout(function() {
          that.loadOrderLine()
        }, 500) // I hope 500ms is enough to wait for a POST request to complete.
      })
    },
    // @ToDo: join and leave events

    render: function() {
        var deleteButton =  this.state.orderline.creator === username ? React.createElement(IconButton, {value: "trash-o", type: "danger", btnsize: "btn-sm", clickHandler: this.handleRemove.bind(this, this.state.orderline)}) : ""
        var editButton = this.state.orderline.creator === username ? React.createElement(IconButton, {value: "pencil-square-o", type: "primary", btnsize: "btn-sm", clickHandler: this.handleEdit.bind(this, this.state.orderline)}) : ""
        var joinButton = this.state.orderline.creator !== username ? React.createElement(IconButton, {value: "sign-in", type: "primary", btnsize: "btn-sm", clickHandler: this.handleJoin}) : ""
        var leaveButton = this.state.orderline.creator !== username ? React.createElement(IconButton, {value: "sign-out", type: "primary", btnsize: "btn-sm", clickHandler: this.handleLeave}) : ""
        return (
            React.createElement("tr", {className: this.state.hideOrderLine ? 'hide' : '', id: "orderline-" + this.state.orderline.id}, 
                React.createElement("td", null, React.createElement("b", null, this.state.orderline.creator), " ", this.state.orderline.users), 
                React.createElement("td", null, this.state.orderline.menu_item), 
                React.createElement("td", null, this.state.orderline.soda), 
                React.createElement("td", null, this.state.orderline.extras), 
                React.createElement("td", null, this.state.orderline.price), 
                React.createElement("td", null, React.createElement("div", {className: "btn-group"}, joinButton, " ", leaveButton, " ", editButton, " ", deleteButton))
            )
        );
    }
});

window.OrderLine = OrderLine
module.exports = OrderLine

},{}],"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/OrderLineForm.jsx":[function(require,module,exports){
var OrderLineForm = React.createClass({displayName: "OrderLineForm",
    getInitialState: function() {
      return {
        users: []
      }
    },

    componentDidMount: function() {
      $.ajax({
        url: api_base + "orderlines/",
        method: 'OPTIONS',
        success: function(success) {
            this.setState({users: success.actions.POST.users.choices})
        }.bind(this),
        error: function(xhr, status, err) {
            console.log(xhr, status, err)
        }.bind(this)
      })
    },

    handleSubmit: function(e) {
      e.preventDefault();

      // Get a list of users id's (buddies)
      var users = []
      var users_list = $('#users_list').children()
      for (var i = 0; i < users_list.length; i++) {
        if (this.refs.users.value === users_list[i].value) {
          users.push(parseInt(users_list[i].innerHTML))
        }
      }

      if (users.length > 0) {
        users = $.parseJSON(users)
      }

      this.props.onOrderLineSubmit({
          id: this.refs.id.value,
          menu_item: this.refs.menu_item.value,
          soda: this.refs.soda.value,
          extras: this.refs.extras.value,
          price: this.refs.price.value,
          users: users
      });
      // Reset all the stuff
      this.refs.id.value = "";
      this.refs.menu_item.value = "";
      this.refs.soda.value = "";
      this.refs.extras.value = "";
      this.refs.price.value = "";
      this.refs.users.value = "";
      return;
    },

    render: function() {
        var users = this.state.users.map(function (user) {
        return (
            React.createElement("option", {key: user.value, value: user.display_name}, user.value)
          )
        })
        return (
            React.createElement("div", {className: "col-md-12"}, 
              React.createElement("h3", null, "New orderline"), 
              React.createElement("div", {className: "col-md-12"}, 
                React.createElement("form", {className: "form-inline orderLineForm", onSubmit: this.handleSubmit}, 
                  React.createElement("input", {type: "number", id: "id", ref: "id", hidden: true}), 
                  React.createElement("div", {className: "form-group"}, 
                    React.createElement("label", {className: "sr-only", htmlFor: "menu_item"}, "Menu item"), 
                    React.createElement("input", {type: "text", className: "form-control", placeholder: "Menu item", id: "menu_item", ref: "menu_item"})
                  ), 
                  React.createElement("div", {className: "form-group"}, 
                    React.createElement("label", {className: "sr-only", htmlFor: "soda"}, "Soda"), 
                    React.createElement("input", {type: "text", className: "form-control", placeholder: "Soda", id: "soda", ref: "soda"})
                  ), 
                  React.createElement("div", {className: "form-group"}, 
                    React.createElement("label", {className: "sr-only", htmlFor: "extras"}, "Extras"), 
                    React.createElement("input", {type: "text", className: "form-control", placeholder: "Extras", id: "extras", ref: "extras"})
                  ), 
                  React.createElement("div", {className: "form-group"}, 
                    React.createElement("label", {className: "sr-only", htmlFor: "price"}, "Price"), 
                    React.createElement("input", {type: "number", className: "form-control", placeholder: "Price", id: "price", ref: "price"})
                  ), 
                  React.createElement("div", {className: "form-group"}, 
                    React.createElement("label", {className: "sr-only", htmlFor: "users"}, "Additional users"), 
                    React.createElement("input", {type: "text", list: "users_list", className: "form-control", placeholder: "Additional users", id: "users", ref: "users"}), 
                    React.createElement("datalist", {id: "users_list"}, 
                        users
                    )
                  ), 
                  React.createElement(IconButton, {value: "floppy-o", btnid: "formSubmit", type: "success", btnsize: "primary"})
                )
              )
            )
        );
    }
});

window.OrderLineForm = OrderLineForm
module.exports = OrderLineForm

},{}],"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/OrderLineList.jsx":[function(require,module,exports){
var OrderLineList = React.createClass({displayName: "OrderLineList",
  handleRemoveOrderLine: function(orderline) {
    $.ajax({
        url: api_base + "orderlines/" + orderline.id,
        beforeSend: function(xhr) {
          xhr.setRequestHeader("X-CSRFToken", getCookie("csrftoken"));
        },
        type: "DELETE",
        success: function(result) {
        }.bind(this),
          error: function(xhr, error, something) {
            console.log(xhr, error, something)
        }.bind(this)
    })
  },

  render: function() {
    var that = this
    var orderlines = this.props.data.map(function (orderline) {
        return (
            React.createElement(OrderLine, {olid: orderline.id, key: orderline.id, onEditOrderLine: that.handleUpdateOrderLine, onRemoveOrderLine: that.handleRemoveOrderLine})
        );
    });
    return (
      React.createElement("div", {className: "col-md-12"}, 
        React.createElement("table", {className: "table table-striped orderLineList"}, 
          React.createElement("thead", null, 
            React.createElement("tr", null, 
              React.createElement("th", null, "User(s)"), 
              React.createElement("th", null, "Menu item"), 
              React.createElement("th", null, "Soda"), 
              React.createElement("th", null, "Extras"), 
              React.createElement("th", null, "Price"), 
              React.createElement("th", null, "Status")
            )
          ), 
          React.createElement("tbody", null, 
            orderlines, 
            React.createElement("tr", null, 
              React.createElement("td", null, React.createElement("i", {className: "fa fa-2x fa-truck"})), 
              React.createElement("td", null, "Extra costs"), 
              React.createElement("td", null, React.createElement("i", {className: "fa fa-2x fa-bicycle"}), " ", React.createElement("i", {className: "fa fa-2x fa-rocket"})), 
              React.createElement("td", null), 
              React.createElement("td", null, this.props.extra_costs), 
              React.createElement("td", null)
            )
          )
        )
      )
    );
  }
});

window.OrderLineList = OrderLineList
module.exports = OrderLineList

},{}],"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/feedme.jsx":[function(require,module,exports){
var Button = require('./Buttons.jsx')

var IconButton = require('./IconButton.jsx')

var Order = require('./Order.jsx')

var OrderLine = require('./OrderLine.jsx')

var OrderLineList = require('./OrderLineList.jsx')

var OrderLineForm = require('./OrderLineForm.jsx')


ReactDOM.render(
    React.createElement(Order, {apiroot: "../feedme-api/", url: "/feedme-api/orderlines/?order=" + order, orderid: order}),
    document.getElementById("feedme-main")
);

},{"./Buttons.jsx":"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/Buttons.jsx","./IconButton.jsx":"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/IconButton.jsx","./Order.jsx":"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/Order.jsx","./OrderLine.jsx":"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/OrderLine.jsx","./OrderLineForm.jsx":"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/OrderLineForm.jsx","./OrderLineList.jsx":"/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/OrderLineList.jsx"}]},{},["/Users/sklirg/projects/github/feedme/feedme/static/js/feedme/feedme.jsx"])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc2tsaXJnL3Byb2plY3RzL2dpdGh1Yi9mZWVkbWUvZmVlZG1lL3N0YXRpYy9qcy9mZWVkbWUvQnV0dG9ucy5qc3giLCIvVXNlcnMvc2tsaXJnL3Byb2plY3RzL2dpdGh1Yi9mZWVkbWUvZmVlZG1lL3N0YXRpYy9qcy9mZWVkbWUvSWNvbkJ1dHRvbi5qc3giLCIvVXNlcnMvc2tsaXJnL3Byb2plY3RzL2dpdGh1Yi9mZWVkbWUvZmVlZG1lL3N0YXRpYy9qcy9mZWVkbWUvT3JkZXIuanN4IiwiL1VzZXJzL3NrbGlyZy9wcm9qZWN0cy9naXRodWIvZmVlZG1lL2ZlZWRtZS9zdGF0aWMvanMvZmVlZG1lL09yZGVyTGluZS5qc3giLCIvVXNlcnMvc2tsaXJnL3Byb2plY3RzL2dpdGh1Yi9mZWVkbWUvZmVlZG1lL3N0YXRpYy9qcy9mZWVkbWUvT3JkZXJMaW5lRm9ybS5qc3giLCIvVXNlcnMvc2tsaXJnL3Byb2plY3RzL2dpdGh1Yi9mZWVkbWUvZmVlZG1lL3N0YXRpYy9qcy9mZWVkbWUvT3JkZXJMaW5lTGlzdC5qc3giLCIvVXNlcnMvc2tsaXJnL3Byb2plY3RzL2dpdGh1Yi9mZWVkbWUvZmVlZG1lL3N0YXRpYy9qcy9mZWVkbWUvZmVlZG1lLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLElBQUksNEJBQTRCLHNCQUFBO0lBQzVCLE1BQU0sRUFBRSxXQUFXO1FBQ2Y7WUFDSSxvQkFBQSxRQUFPLEVBQUEsQ0FBQSxDQUFDLFNBQUEsRUFBUyxDQUFFLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxTQUFTLEVBQUMsQ0FBQyxPQUFBLEVBQU8sQ0FBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQWMsQ0FBQSxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBZSxDQUFBO1NBQzdIO0tBQ0o7QUFDTCxDQUFDLENBQUM7O0FB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QSxDQUFDLEtBQUEsRUFBSyxDQUFDLFVBQUEsRUFBVSxDQUFDLElBQUEsRUFBSSxDQUFDLFNBQUEsRUFBUyxDQUFDLE9BQUEsRUFBTyxDQUFDLFFBQUEsRUFBUSxDQUFDLFlBQUEsRUFBWSxDQUFFLElBQUksQ0FBQyxXQUFZLENBQUEsQ0FBRyxDQUFBLEdBQUcsRUFBRTtRQUNsSztZQUNJLG9CQUFBLElBQUcsRUFBQSxDQUFBLENBQUMsU0FBQSxFQUFTLENBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEdBQUcsTUFBTSxHQUFHLEVBQUUsRUFBQyxDQUFDLEVBQUEsRUFBRSxDQUFFLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFJLENBQUEsRUFBQTtnQkFDL0Ysb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQSxvQkFBQSxHQUFFLEVBQUEsSUFBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQVksQ0FBQSxFQUFBLEdBQUEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFXLENBQUEsRUFBQTtnQkFDM0Usb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFlLENBQUEsRUFBQTtnQkFDekMsb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFVLENBQUEsRUFBQTtnQkFDcEMsb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFZLENBQUEsRUFBQTtnQkFDdEMsb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFXLENBQUEsRUFBQTtnQkFDckMsb0JBQUEsSUFBRyxFQUFBLElBQUMsRUFBQSxvQkFBQSxLQUFJLEVBQUEsQ0FBQSxDQUFDLFNBQUEsRUFBUyxDQUFDLFdBQVksQ0FBQSxFQUFDLFVBQVUsRUFBQyxHQUFBLEVBQUUsV0FBVyxFQUFDLEdBQUEsRUFBRSxVQUFVLEVBQUMsR0FBQSxFQUFFLFlBQW1CLENBQUssQ0FBQTtZQUMvRixDQUFBO1VBQ1A7S0FDTDtBQUNMLENBQUMsQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxTQUFTLEdBQUcsU0FBUztBQUM1QixNQUFNLENBQUMsT0FBTyxHQUFHOzs7QUMzRWpCLElBQUksbUNBQW1DLDZCQUFBO0lBQ25DLGVBQWUsRUFBRSxXQUFXO01BQzFCLE9BQU87UUFDTCxLQUFLLEVBQUUsRUFBRTtPQUNWO0FBQ1AsS0FBSzs7SUFFRCxpQkFBaUIsRUFBRSxXQUFXO01BQzVCLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDTCxHQUFHLEVBQUUsUUFBUSxHQUFHLGFBQWE7UUFDN0IsTUFBTSxFQUFFLFNBQVM7UUFDakIsT0FBTyxFQUFFLFNBQVMsT0FBTyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzdELENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNaLEtBQUssRUFBRSxTQUFTLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFO1lBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUM7U0FDaEMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO09BQ2IsQ0FBQztBQUNSLEtBQUs7O0lBRUQsWUFBWSxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQzlCLE1BQU0sQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ3pCOztNQUVNLElBQUksS0FBSyxHQUFHLEVBQUU7TUFDZCxJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsUUFBUSxFQUFFO01BQzVDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUU7VUFDakQsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQzlDO0FBQ1QsT0FBTzs7TUFFRCxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3BCLEtBQUssR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztBQUNsQyxPQUFPOztNQUVELElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUM7VUFDekIsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUs7VUFDdEIsU0FBUyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUs7VUFDcEMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUs7VUFDMUIsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUs7VUFDOUIsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7VUFDNUIsS0FBSyxFQUFFLEtBQUs7QUFDdEIsT0FBTyxDQUFDLENBQUM7O01BRUgsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztNQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO01BQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7TUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztNQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO01B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RUFBQyxDQUFDLE9BQUEsRUFBTyxDQUFFLEtBQU0sQ0FBQSxDQUFHLENBQUE7SUFDbkcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUM7Q0FDekMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e1wiYnRuIGJ0bi1cIiArIHRoaXMucHJvcHMudHlwZSArIFwiIGJ0bi1zbVwifSBvbkNsaWNrPXt0aGlzLnByb3BzLmNsaWNrSGFuZGxlcn0+e3RoaXMucHJvcHMudmFsdWV9PC9idXR0b24+XG4gICAgICAgIClcbiAgICB9XG59KVxuXG53aW5kb3cuQnV0dG9uID0gQnV0dG9uXG5tb2R1bGUuZXhwb3J0cyA9IEJ1dHRvbiIsInZhciBJY29uQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcImJ0biBidG4tXCIgKyB0aGlzLnByb3BzLnR5cGUgKyBcIiBcIiArIHRoaXMucHJvcHMuYnRuc2l6ZX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmNsaWNrSGFuZGxlcn1cbiAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5idG5pZH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e1wiZmEgXCIgKyAodGhpcy5wcm9wcy5zaXplID8gKFwiZmEtXCIgKyB0aGlzLnByb3BzLnNpemUgKyBcIiBcIikgOiBcIiBcIikgKyAoXCJmYS1cIiArIHRoaXMucHJvcHMudmFsdWUpfT48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKVxuICAgIH1cbn0pXG5cbndpbmRvdy5JY29uQnV0dG9uID0gSWNvbkJ1dHRvblxubW9kdWxlLmV4cG9ydHMgPSBJY29uQnV0dG9uIiwidmFyIE9yZGVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBsb2FkT3JkZXI6IGZ1bmN0aW9uKG9yZGVyaWQpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBhcGlfYmFzZSArICdvcmRlcnMvJyArIG9yZGVyaWQsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oc3VjY2Vzcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtvcmRlcjogc3VjY2Vzc30pXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3RhdXJhbnQ6IHN1Y2Nlc3MucmVzdGF1cmFudH0pXG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyh4aHIsIHN0YXR1cywgZXJyKVxuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgfSlcbiAgfSxcblxuICBsb2FkT3JkZXJMaW5lczogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgJC5hamF4KHtcbiAgICAgIHVybDogcGF0aCB8fCB0aGlzLnByb3BzLnVybCxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBjYWNoZTogZmFsc2UsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihzdWNjZXNzKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5zdGF0ZS5kYXRhO1xuICAgICAgICBmb3IgKHZhciBhdHRybmFtZSBpbiBzdWNjZXNzLnJlc3VsdHMpIHtkYXRhW3N1Y2Nlc3MucmVzdWx0c1thdHRybmFtZV0uaWRdID0gc3VjY2Vzcy5yZXN1bHRzW2F0dHJuYW1lXTsgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtkYXRhOiBkYXRhfSk7XG4gICAgICAgIGlmIChzdWNjZXNzLm5leHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkT3JkZXJMaW5lcyhzdWNjZXNzLm5leHQpXG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcih4aHIsIHN0YXR1cywgZXJyb3IpXG4gICAgICB9LmJpbmQodGhpcylcbiAgICB9KTtcbiAgfSxcblxuICBoYW5kbGVPcmRlckxpbmVTdWJtaXQ6IGZ1bmN0aW9uKG9yZGVybGluZSkge1xuICAgIC8vIFN1Ym1pdCB0byBzZXJ2ZXIgYW5kIHJlZnJlc2ggbGlzdFxuICAgIG9yZGVybGluZS5jc3JmbWlkZGxld2FyZXRva2VuID0gY3NyZnRva2VuO1xuICAgIG9yZGVybGluZS5vcmRlciA9IG9yZGVyO1xuICAgIHZhciBzaG91bGRQdXQgPSBvcmRlcmxpbmUuaWQgIT09IFwiXCJcbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGFwaV9iYXNlICsgXCJvcmRlcmxpbmVzL1wiICsgKHNob3VsZFB1dCA/IG9yZGVybGluZS5pZCA6ICcnKSxcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLUNTUkZUb2tlblwiLCBnZXRDb29raWUoXCJjc3JmdG9rZW5cIikpO1xuICAgICAgICB9LFxuICAgICAgICBkYXRlVHlwZTogJ2pzb24nLFxuICAgICAgICB0eXBlOiBzaG91bGRQdXQgPyAnUFVUJyA6ICdQT1NUJyxcbiAgICAgICAgZGF0YTogb3JkZXJsaW5lLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFB1dCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5zdGF0ZS5kYXRhXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0cm5hbWUgaW4gcmVzcG9uc2UpIHtkYXRhW3Jlc3BvbnNlW2F0dHJuYW1lXS5pZF0gPSByZXNwb25zZVthdHRybmFtZV07IH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtkYXRhOiBkYXRhfSlcbiAgICAgICAgICAgICAgICAkKFwiI29yZGVybGluZS1cIiArIHJlc3BvbnNlLmlkKS5yZW1vdmVDbGFzcyhcImhpZGVcIikgLy8gaGFja3kgd2F5IHRvIHNob3cgaXQgYWdhaW4gYWZ0ZXJ3YXJkc1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtkYXRhOiB0aGlzLnN0YXRlLmRhdGEuY29uY2F0KHJlc3BvbnNlKX0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih4aHIsIHN0YXR1cywgZXJyb3IpXG4gICAgICAgIH0uYmluZCh0aGlzKVxuICAgIH0pO1xuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IFtdLFxuICAgICAgb3JkZXI6IHt9LFxuICAgICAgcmVzdGF1cmFudDoge3Jlc3RhdXJhbnRfbmFtZTogJyd9XG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxvYWRPcmRlcih0aGlzLnByb3BzLm9yZGVyaWQpXG4gICAgdGhpcy5sb2FkT3JkZXJMaW5lcygpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgTWVudSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY3V0bGVyeVwiPjwvaT4gPGEgaHJlZj17dGhhdC5zdGF0ZS5yZXN0YXVyYW50Lm1lbnVfdXJsfT5NZW51PC9hPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0pXG4gICAgdmFyIFBob25lID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1waG9uZVwiPjwvaT4gPGEgaHJlZj17XCJ0ZWw6XCIgKyB0aGF0LnN0YXRlLnJlc3RhdXJhbnQucGhvbmVfbnVtYmVyfT57dGhhdC5zdGF0ZS5yZXN0YXVyYW50LnBob25lX251bWJlcn08L2E+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBvcmRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxoMT5GZWVkbWU8L2gxPlxuICAgICAgICAgIDxoMj5cbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUucmVzdGF1cmFudC5yZXN0YXVyYW50X25hbWV9ICZuYnNwO1xuICAgICAgICAgICAgICA8c21hbGw+XG4gICAgICAgICAgICAgICAgPE1lbnUgLz4gJm5ic3A7XG4gICAgICAgICAgICAgICAgPFBob25lIC8+XG4gICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8T3JkZXJMaW5lTGlzdFxuICAgICAgICAgICAgICBhcGlyb290PXt0aGlzLnByb3BzLmFwaXJvb3R9XG4gICAgICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZGF0YX1cbiAgICAgICAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgICAgICAgZXh0cmFfY29zdHM9e3RoaXMuc3RhdGUub3JkZXIuZXh0cmFfY29zdHN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgPE9yZGVyTGluZUZvcm0gb25PcmRlckxpbmVTdWJtaXQ9e3RoaXMuaGFuZGxlT3JkZXJMaW5lU3VibWl0fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG53aW5kb3cuT3JkZXIgPSBPcmRlclxubW9kdWxlLmV4cG9ydHMgPSBPcmRlclxuIiwidmFyIE9yZGVyTGluZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBvcmRlcmxpbmU6IHt9LFxuICAgICAgICAgIGhpZGRlbjogZmFsc2UsXG4gICAgICAgICAgc2hvd0RlbGV0ZTogZmFsc2UsXG4gICAgICAgICAgc2hvd0VkaXQ6IGZhbHNlLFxuICAgICAgICAgIHNob3dKb2luOiBmYWxzZSxcbiAgICAgICAgICBzaG93TGVhdmU6IGZhbHNlXG4gICAgICB9XG4gICAgfSxcblxuICAgIGxvYWRPcmRlckxpbmU6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogcGF0aCB8fCBhcGlfYmFzZSArIFwib3JkZXJsaW5lcy9cIiArIHRoaXMucHJvcHMub2xpZCxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KVxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe29yZGVybGluZTogcmVzdWx0fSlcbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBlcnIsIHN0YXR1cykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU29tZXRoaW5nIHdlbnQgd3JvbmcuXCIsIHhociwgZXJyLCBzdGF0dXMpXG4gICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgfSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2hpZGVPcmRlckxpbmU6IGZhbHNlfSlcbiAgICB9LFxuXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5sb2FkT3JkZXJMaW5lKClcbiAgICB9LFxuXG4gICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbihvcmRlcmxpbmUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2hpZGVPcmRlckxpbmU6IHRydWV9KVxuICAgICAgdGhpcy5wcm9wcy5vblJlbW92ZU9yZGVyTGluZShvcmRlcmxpbmUpXG4gICAgfSxcblxuICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uKG9yZGVybGluZSkge1xuICAgICAgLy8gQFRvRG86IE1ha2UgdGhpcyBiZXR0ZXIsIGFuZCBzZW5kIGEgY2FsbGJhY2sgd2hpY2ggdXBkYXRlcyB0aGlzIHN0YXRlXG4gICAgICAvLyBQbGFjZSB2YWx1ZXMgaW4gZm9ybVxuICAgICAgJChcIiNpZFwiKS52YWwob3JkZXJsaW5lLmlkKVxuICAgICAgJChcIiNtZW51X2l0ZW1cIikudmFsKG9yZGVybGluZS5tZW51X2l0ZW0pXG4gICAgICAkKFwiI3NvZGFcIikudmFsKG9yZGVybGluZS5zb2RhKVxuICAgICAgJChcIiNleHRyYXNcIikudmFsKG9yZGVybGluZS5leHRyYXMpXG4gICAgICAkKFwiI3ByaWNlXCIpLnZhbChvcmRlcmxpbmUucHJpY2UpXG4gICAgICAkKFwiI3VzZXJzXCIpLnZhbChvcmRlcmxpbmUudXNlcnMpXG4gICAgICB0aGlzLnNldFN0YXRlKHtoaWRlT3JkZXJMaW5lOiB0cnVlfSlcblxuICAgICAgLy8gT24gZm9ybSBzdWJtaXQsIHJlbG9hZCBjdXJyZW50IG9yZGVybGluZVxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgICAkKFwiI2Zvcm1TdWJtaXRcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhhdC5sb2FkT3JkZXJMaW5lKClcbiAgICAgICAgfSwgNTAwKSAvLyBJIGhvcGUgNTAwbXMgaXMgZW5vdWdoIHRvIHdhaXQgZm9yIGEgUE9TVCByZXF1ZXN0IHRvIGNvbXBsZXRlLlxuICAgICAgfSlcbiAgICB9LFxuICAgIC8vIEBUb0RvOiBqb2luIGFuZCBsZWF2ZSBldmVudHNcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZWxldGVCdXR0b24gPSAgdGhpcy5zdGF0ZS5vcmRlcmxpbmUuY3JlYXRvciA9PT0gdXNlcm5hbWUgPyA8SWNvbkJ1dHRvbiB2YWx1ZT1cInRyYXNoLW9cIiB0eXBlPVwiZGFuZ2VyXCIgYnRuc2l6ZT1cImJ0bi1zbVwiIGNsaWNrSGFuZGxlcj17dGhpcy5oYW5kbGVSZW1vdmUuYmluZCh0aGlzLCB0aGlzLnN0YXRlLm9yZGVybGluZSl9IC8+IDogXCJcIlxuICAgICAgICB2YXIgZWRpdEJ1dHRvbiA9IHRoaXMuc3RhdGUub3JkZXJsaW5lLmNyZWF0b3IgPT09IHVzZXJuYW1lID8gPEljb25CdXR0b24gdmFsdWU9XCJwZW5jaWwtc3F1YXJlLW9cIiB0eXBlPVwicHJpbWFyeVwiIGJ0bnNpemU9XCJidG4tc21cIiBjbGlja0hhbmRsZXI9e3RoaXMuaGFuZGxlRWRpdC5iaW5kKHRoaXMsIHRoaXMuc3RhdGUub3JkZXJsaW5lKX0gLz4gOiBcIlwiXG4gICAgICAgIHZhciBqb2luQnV0dG9uID0gdGhpcy5zdGF0ZS5vcmRlcmxpbmUuY3JlYXRvciAhPT0gdXNlcm5hbWUgPyA8SWNvbkJ1dHRvbiB2YWx1ZT1cInNpZ24taW5cIiB0eXBlPVwicHJpbWFyeVwiIGJ0bnNpemU9XCJidG4tc21cIiBjbGlja0hhbmRsZXI9e3RoaXMuaGFuZGxlSm9pbn0gLz4gOiBcIlwiXG4gICAgICAgIHZhciBsZWF2ZUJ1dHRvbiA9IHRoaXMuc3RhdGUub3JkZXJsaW5lLmNyZWF0b3IgIT09IHVzZXJuYW1lID8gPEljb25CdXR0b24gdmFsdWU9XCJzaWduLW91dFwiIHR5cGU9XCJwcmltYXJ5XCIgYnRuc2l6ZT1cImJ0bi1zbVwiIGNsaWNrSGFuZGxlcj17dGhpcy5oYW5kbGVMZWF2ZX0gLz4gOiBcIlwiXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dHIgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmhpZGVPcmRlckxpbmUgPyAnaGlkZScgOiAnJ30gaWQ9e1wib3JkZXJsaW5lLVwiICsgdGhpcy5zdGF0ZS5vcmRlcmxpbmUuaWR9PlxuICAgICAgICAgICAgICAgIDx0ZD48Yj57dGhpcy5zdGF0ZS5vcmRlcmxpbmUuY3JlYXRvcn08L2I+IHt0aGlzLnN0YXRlLm9yZGVybGluZS51c2Vyc308L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD57dGhpcy5zdGF0ZS5vcmRlcmxpbmUubWVudV9pdGVtfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPnt0aGlzLnN0YXRlLm9yZGVybGluZS5zb2RhfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPnt0aGlzLnN0YXRlLm9yZGVybGluZS5leHRyYXN9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+e3RoaXMuc3RhdGUub3JkZXJsaW5lLnByaWNlfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPjxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+e2pvaW5CdXR0b259IHtsZWF2ZUJ1dHRvbn0ge2VkaXRCdXR0b259IHtkZWxldGVCdXR0b259PC9kaXY+PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbndpbmRvdy5PcmRlckxpbmUgPSBPcmRlckxpbmVcbm1vZHVsZS5leHBvcnRzID0gT3JkZXJMaW5lIiwidmFyIE9yZGVyTGluZUZvcm0gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJzOiBbXVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGFwaV9iYXNlICsgXCJvcmRlcmxpbmVzL1wiLFxuICAgICAgICBtZXRob2Q6ICdPUFRJT05TJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dXNlcnM6IHN1Y2Nlc3MuYWN0aW9ucy5QT1NULnVzZXJzLmNob2ljZXN9KVxuICAgICAgICB9LmJpbmQodGhpcyksXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIsIHN0YXR1cywgZXJyKVxuICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAvLyBHZXQgYSBsaXN0IG9mIHVzZXJzIGlkJ3MgKGJ1ZGRpZXMpXG4gICAgICB2YXIgdXNlcnMgPSBbXVxuICAgICAgdmFyIHVzZXJzX2xpc3QgPSAkKCcjdXNlcnNfbGlzdCcpLmNoaWxkcmVuKClcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlcnNfbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5yZWZzLnVzZXJzLnZhbHVlID09PSB1c2Vyc19saXN0W2ldLnZhbHVlKSB7XG4gICAgICAgICAgdXNlcnMucHVzaChwYXJzZUludCh1c2Vyc19saXN0W2ldLmlubmVySFRNTCkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXNlcnMgPSAkLnBhcnNlSlNPTih1c2VycylcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wcy5vbk9yZGVyTGluZVN1Ym1pdCh7XG4gICAgICAgICAgaWQ6IHRoaXMucmVmcy5pZC52YWx1ZSxcbiAgICAgICAgICBtZW51X2l0ZW06IHRoaXMucmVmcy5tZW51X2l0ZW0udmFsdWUsXG4gICAgICAgICAgc29kYTogdGhpcy5yZWZzLnNvZGEudmFsdWUsXG4gICAgICAgICAgZXh0cmFzOiB0aGlzLnJlZnMuZXh0cmFzLnZhbHVlLFxuICAgICAgICAgIHByaWNlOiB0aGlzLnJlZnMucHJpY2UudmFsdWUsXG4gICAgICAgICAgdXNlcnM6IHVzZXJzXG4gICAgICB9KTtcbiAgICAgIC8vIFJlc2V0IGFsbCB0aGUgc3R1ZmZcbiAgICAgIHRoaXMucmVmcy5pZC52YWx1ZSA9IFwiXCI7XG4gICAgICB0aGlzLnJlZnMubWVudV9pdGVtLnZhbHVlID0gXCJcIjtcbiAgICAgIHRoaXMucmVmcy5zb2RhLnZhbHVlID0gXCJcIjtcbiAgICAgIHRoaXMucmVmcy5leHRyYXMudmFsdWUgPSBcIlwiO1xuICAgICAgdGhpcy5yZWZzLnByaWNlLnZhbHVlID0gXCJcIjtcbiAgICAgIHRoaXMucmVmcy51c2Vycy52YWx1ZSA9IFwiXCI7XG4gICAgICByZXR1cm47XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB1c2VycyA9IHRoaXMuc3RhdGUudXNlcnMubWFwKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17dXNlci52YWx1ZX0gdmFsdWU9e3VzZXIuZGlzcGxheV9uYW1lfT57dXNlci52YWx1ZX08L29wdGlvbj5cbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgICA8aDM+TmV3IG9yZGVybGluZTwvaDM+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG4gICAgICAgICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybS1pbmxpbmUgb3JkZXJMaW5lRm9ybVwiIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwiaWRcIiByZWY9XCJpZFwiIGhpZGRlbiAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJzci1vbmx5XCIgaHRtbEZvcj1cIm1lbnVfaXRlbVwiPk1lbnUgaXRlbTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiTWVudSBpdGVtXCIgaWQ9XCJtZW51X2l0ZW1cIiByZWY9XCJtZW51X2l0ZW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInNyLW9ubHlcIiBodG1sRm9yPVwic29kYVwiPlNvZGE8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIlNvZGFcIiBpZD1cInNvZGFcIiByZWY9XCJzb2RhXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJzci1vbmx5XCIgaHRtbEZvcj1cImV4dHJhc1wiPkV4dHJhczwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiRXh0cmFzXCIgaWQ9XCJleHRyYXNcIiByZWY9XCJleHRyYXNcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInNyLW9ubHlcIiBodG1sRm9yPVwicHJpY2VcIj5QcmljZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJQcmljZVwiIGlkPVwicHJpY2VcIiByZWY9XCJwcmljZVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwic3Itb25seVwiIGh0bWxGb3I9XCJ1c2Vyc1wiPkFkZGl0aW9uYWwgdXNlcnM8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBsaXN0PVwidXNlcnNfbGlzdFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiQWRkaXRpb25hbCB1c2Vyc1wiIGlkPVwidXNlcnNcIiByZWY9XCJ1c2Vyc1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkYXRhbGlzdCBpZD1cInVzZXJzX2xpc3RcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt1c2Vyc31cbiAgICAgICAgICAgICAgICAgICAgPC9kYXRhbGlzdD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gdmFsdWU9XCJmbG9wcHktb1wiIGJ0bmlkPVwiZm9ybVN1Ym1pdFwiIHR5cGU9XCJzdWNjZXNzXCIgYnRuc2l6ZT1cInByaW1hcnlcIiAvPlxuICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxud2luZG93Lk9yZGVyTGluZUZvcm0gPSBPcmRlckxpbmVGb3JtXG5tb2R1bGUuZXhwb3J0cyA9IE9yZGVyTGluZUZvcm0iLCJ2YXIgT3JkZXJMaW5lTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgaGFuZGxlUmVtb3ZlT3JkZXJMaW5lOiBmdW5jdGlvbihvcmRlcmxpbmUpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGFwaV9iYXNlICsgXCJvcmRlcmxpbmVzL1wiICsgb3JkZXJsaW5lLmlkLFxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlgtQ1NSRlRva2VuXCIsIGdldENvb2tpZShcImNzcmZ0b2tlblwiKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFwiREVMRVRFXCIsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICB9LmJpbmQodGhpcyksXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZXJyb3IsIHNvbWV0aGluZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coeGhyLCBlcnJvciwgc29tZXRoaW5nKVxuICAgICAgICB9LmJpbmQodGhpcylcbiAgICB9KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIG9yZGVybGluZXMgPSB0aGlzLnByb3BzLmRhdGEubWFwKGZ1bmN0aW9uIChvcmRlcmxpbmUpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxPcmRlckxpbmUgb2xpZD17b3JkZXJsaW5lLmlkfSBrZXk9e29yZGVybGluZS5pZH0gb25FZGl0T3JkZXJMaW5lPXt0aGF0LmhhbmRsZVVwZGF0ZU9yZGVyTGluZX0gb25SZW1vdmVPcmRlckxpbmU9e3RoYXQuaGFuZGxlUmVtb3ZlT3JkZXJMaW5lfSAvPlxuICAgICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidGFibGUgdGFibGUtc3RyaXBlZCBvcmRlckxpbmVMaXN0XCI+XG4gICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICA8dGg+VXNlcihzKTwvdGg+XG4gICAgICAgICAgICAgIDx0aD5NZW51IGl0ZW08L3RoPlxuICAgICAgICAgICAgICA8dGg+U29kYTwvdGg+XG4gICAgICAgICAgICAgIDx0aD5FeHRyYXM8L3RoPlxuICAgICAgICAgICAgICA8dGg+UHJpY2U8L3RoPlxuICAgICAgICAgICAgICA8dGg+U3RhdHVzPC90aD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7b3JkZXJsaW5lc31cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRkPjxpIGNsYXNzTmFtZT1cImZhIGZhLTJ4IGZhLXRydWNrXCI+PC9pPjwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD5FeHRyYSBjb3N0czwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD48aSBjbGFzc05hbWU9XCJmYSBmYS0yeCBmYS1iaWN5Y2xlXCI+PC9pPiA8aSBjbGFzc05hbWU9XCJmYSBmYS0yeCBmYS1yb2NrZXRcIj48L2k+PC90ZD5cbiAgICAgICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57dGhpcy5wcm9wcy5leHRyYV9jb3N0c308L3RkPlxuICAgICAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG53aW5kb3cuT3JkZXJMaW5lTGlzdCA9IE9yZGVyTGluZUxpc3Rcbm1vZHVsZS5leHBvcnRzID0gT3JkZXJMaW5lTGlzdCIsInZhciBCdXR0b24gPSByZXF1aXJlKCcuL0J1dHRvbnMuanN4JylcblxudmFyIEljb25CdXR0b24gPSByZXF1aXJlKCcuL0ljb25CdXR0b24uanN4JylcblxudmFyIE9yZGVyID0gcmVxdWlyZSgnLi9PcmRlci5qc3gnKVxuXG52YXIgT3JkZXJMaW5lID0gcmVxdWlyZSgnLi9PcmRlckxpbmUuanN4JylcblxudmFyIE9yZGVyTGluZUxpc3QgPSByZXF1aXJlKCcuL09yZGVyTGluZUxpc3QuanN4JylcblxudmFyIE9yZGVyTGluZUZvcm0gPSByZXF1aXJlKCcuL09yZGVyTGluZUZvcm0uanN4JylcblxuXG5SZWFjdERPTS5yZW5kZXIoXG4gICAgPE9yZGVyIGFwaXJvb3Q9e1wiLi4vZmVlZG1lLWFwaS9cIn0gdXJsPXtcIi9mZWVkbWUtYXBpL29yZGVybGluZXMvP29yZGVyPVwiICsgb3JkZXJ9IG9yZGVyaWQ9e29yZGVyfSAvPixcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZlZWRtZS1tYWluXCIpXG4pOyJdfQ==
