<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Language" content="en" />
    <title>How to upgrade s6</title>
    <meta name="Description" content="How to upgrade s6" />
    <meta name="Keywords" content="s6 installation upgrade" />
    <!-- <link rel="stylesheet" type="text/css" href="http://skarnet.org/default.css" /> -->
  </head>
<body>

<p>
<a href="index.html">s6</a><br />
<a href="http://skarnet.org/software/">Software</a><br />
<a href="http://skarnet.org/">skarnet.org</a>
</p>

<h1> What has changed in s6 </h1>

<h2> in 2.2.0.1 </h2>

<ul>
 <li> skalibs dependency bumped to 2.3.6.1. </li>
 <li> execline dependency bumped to 2.1.3.1. </li>
</ul>

<h2> in 2.2.0.0 </h2>

<ul>
 <li> skalibs dependency bumped to 2.3.6.0. </li>
 <li> execline dependency bumped to 2.1.3.0. </li>
 <li> The internals of <a href="s6-supervise.html">s6-supervise</a> have
changed; the <tt>supervise/status</tt> file ABI has changed and is not
compatible with the daemontools/runit <tt>supervise/status</tt> files
anymore. (This should not impact anything.) </li>
 <li> <a href="s6-supervise.html">s6-supervise</a> features a
configurable timeout for <tt>./finish</tt> scripts, via the
<a href="servicedir.html"><tt>./timeout-finish</tt></a> file. </li>
 <li> <a href="s6-svwait.html">s6-svwait</a>,
<a href="s6-svlisten1.html">s6-svlisten1</a> and
<a href="s6-svlisten.html">s6-svlisten</a> can now wait for a <tt>'D'</tt>
event, which means the <tt>./finish</tt> script has terminated. </li>
 <li> The deprecated <tt>s6-notifywhenup</tt> program has been
removed. </li>
 <li> The syntax for synchronous <a href="s6-svc.html">s6-svc</a>
waiting has changed. </li>
</ul>

<h2> in 2.1.6.0 </h2>

<ul>
 <li> <a href="s6-svc.html">s6-svc</a> now checks for the existence
of <tt>notification-fd</tt> before accepting a <tt>U</tt> command. </li>
 <li> New <tt>-X</tt> option to <a href="s6-svc.html">s6-svc</a>. </li>
 <li> Different meaning of SIGQUIT for
<a href="s6-supervise">s6-supervise</a>: now the same as
<tt>s6-svc -X</tt>. </li>
</ul>

<h2> in 2.1.5.0 </h2>

<ul>
 <li> <a href="s6-log.html">s6-log</a> now exits cleanly on SIGHUP. </li>
</ul>

<h2> in 2.1.4.0 </h2>

<ul>
 <li> skalibs dependency bumped to 2.3.5.1. </li>
 <li> execline dependency bumped to 2.1.2.2. </li>
 <li> The <a href="s6-notifywhenup.html">s6-notifywhenup</a> command
has been deprecated. Race-free
<a href="notifywhenup.html">readiness notification</a> can now be implemented
via the <tt>notification-fd</tt> file in a
<a href="servicedir.html">service directory</a>. </li>
</ul>

<h2> in 2.1.3.0 </h2>

<ul>
 <li> skalibs dependency bumped to 2.3.2.0. </li>
 <li> execline dependency bumped to 2.1.1.0. </li>
 <li> New options to <a href="s6-envuidgid.html">s6-envuidgid</a>. </li>
</ul>

<h2> in 2.1.2.0 </h2>

<ul>
 <li> New options to <a href="s6-setsid.html">s6-setsid</a>. </li>
</ul>

<h2> in 2.1.1.2 </h2>

<ul>
 <li> skalibs dependency bumped to 2.3.1.0. </li>
 <li> execline dependency bumped to 2.1.0.0. </li>
 <li> Apart from that, this is a bugfix release. (The bump in
dependencies is part of the bugfix.) </li>
</ul>

<h2> in 2.1.1.1 </h2>

<p>
 Bugfix release, no important changes.
</p>

<h2> in 2.1.1.0 </h2>

<ul>
 <li> skalibs dependency bumped to 2.3.0.0. </li>
 <li> execline dependency bumped to 2.0.2.1. </li>
 <li> New functionality added to <a href="s6-log.html">s6-log</a>. Its
syntax has been extended; some options are now marked as obsolescent. </li>
 <li> Access control instated in <a href="s6-fdholderd.html">s6-fdholderd</a>
for <a href="s6-fdholder-listc.html">listing</a> </li>
</ul>

<h2> in 2.1.0.1 </h2>

<p>
 Bugfix release, no important changes.
</p>

<h2> in 2.1.0.0 </h2>

<ul>
 <li> skalibs dependency bumped to 2.2.1.0. </li>
 <li> execline dependency bumped to 2.0.2.0. </li>
 <li> Unix domain socket utilities moved from the
<a href="http://skarnet.org/software/s6-networking/">s6-networking</a>
package to s6. </li>
 <li> <tt>./finish</tt> argument for "service crashed" is now 256
instead of 255. <strong>Check your finish scripts!</strong> </li>
 <li> <tt>supervise/status</tt> now includes wstat information
when the service died, and s6-svstat reports that information. </li>
 <li> s6-svstat now reports symbolic signal information by default,
use <tt>-n</tt> to get the old behaviour. </li>
 <li> s6-log now properly calls execlineb with its installation
prefix, in the slashpackage case. </li>
 <li> New commands: s6-svlisten and s6-svlisten1, to signal a
service and wait on it without race condition. </li>
 <li> A brand new set of programs, <tt>s6-fdholder*</tt>, to perform
fd-holding. </li>
 <li> Catchy blurb on intro page. </li>
</ul>

<h2> in 2.0.1.0 </h2>

<ul>
 <li> skalibs dependency bumped to 2.2.0.0. </li>
 <li> execline dependency bumped to 2.0.1.1. </li>
 <li> Better readiness notification management via s6-svwait -U. </li>
</ul>

<h2> in 2.0.0.1 </h2>

<ul>
 <li> skalibs dependency bumped to 2.1.0.0. </li>
</ul>

<h2> in 2.0.0.0 </h2>

<ul>
 <li> The build system has completely changed. It is now a standard
<tt>./configure &amp;&amp; make &amp;&amp; sudo make install</tt>
build system. See the enclosed INSTALL file for details. </li>
 <li> slashpackage is not activated by default. </li>
 <li> shared libraries are not used by default. </li>
 <li> skalibs dependency bumped to 2.0.0.0. </li>
 <li> execline dependency bumped to 2.0.0.0. </li>
 <li> <a href="s6-supervise.html">s6-supervise</a> does not create
the <tt>./event</tt> fifodir as public. Subscriptions are restricted
to users having the same gid as the s6-supervise process. </li>
 <li> The <a href="s6-notifywhenup.html">s6-notifywhenup</a> program
is a new addition. </li>
</ul>

</body>
</html>
