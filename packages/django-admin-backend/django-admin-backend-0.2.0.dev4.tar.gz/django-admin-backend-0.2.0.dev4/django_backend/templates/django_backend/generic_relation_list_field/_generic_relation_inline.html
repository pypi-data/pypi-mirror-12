{% comment %}
    This template is used to render the
    {% render_backend_generic_relation_inline %} template tag.

{% endcomment %}
{% load django_backend_tags i18n %}
<div class="generic-relation-list-field__item__inline">

    {% if not readonly %}
        <div class="draghandle">
            <span class="draghandle move glyphicon glyphicon-move" title='{% trans "Drag to re-order" %}'></span>
        </div>
    {% endif %}

    {% if not readonly %}
        <div class="tools">
            <span class="form-delete glyphicon glyphicon-remove" title="Remove" data-toggle="tooltip"></span>
            <span class="form-undo-delete glyphicon glyphicon-repeat" title="Undo remove" data-toggle="tooltip"></span>
            {% if is_template or backend|has_change_permission:user|for_object:object %}
                <a href="{% if not is_template %}{% backend_url backend.urlnames.views.update.name pk=object.pk %}{% endif %}"
                    data-dialog="update-relation" class="glyphicon glyphicon-pencil"
                    title="Edit"
                    data-toggle="tooltip"></a>
            {% endif %}
        </div>
    {% endif %}

    <div class="content">
        {% if not is_template %}
            {{ object|backend_preview:backend }}
        {% endif %}
    </div>

</div>
