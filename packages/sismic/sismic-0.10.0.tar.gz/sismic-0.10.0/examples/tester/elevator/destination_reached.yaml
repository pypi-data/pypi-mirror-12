statechart:
  name: Destination is reached
  initial: accepting
  states:
    - name: accepting
      transitions:
        - event: step
          guard: step.processed('floorSelected')
          target : awaiting destination
    - name: awaiting destination
      transitions:
        - event: step
          guard: step.context['current'] == step.context['destination']
          target: accepting
        - event: stop
          target: assertion failed
    - name: assertion failed
      on entry: assert False, 'Destination not reached!'
