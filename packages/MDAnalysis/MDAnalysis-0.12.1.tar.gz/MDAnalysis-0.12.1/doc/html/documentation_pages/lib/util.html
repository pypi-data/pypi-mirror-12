<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>9.9. Helper functions — MDAnalysis.lib.util &mdash; MDAnalysis 0.12.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.12.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within MDAnalysis 0.12.1 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/mdanalysis-logo.ico"/>
    <link rel="top" title="MDAnalysis 0.12.1 documentation" href="../../index.html" />
    <link rel="up" title="9. MDAnalysis library" href="../lib_modules.html" />
    <link rel="next" title="10. Version information for MDAnalysis — MDAnalysis.version" href="../version.html" />
    <link rel="prev" title="9.8. Fast QCP RMSD structure alignment — MDAnalysis.lib.qcprot" href="qcprot.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../version.html" title="10. Version information for MDAnalysis — MDAnalysis.version"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="qcprot.html" title="9.8. Fast QCP RMSD structure alignment — MDAnalysis.lib.qcprot"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MDAnalysis 0.12.1 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../lib_modules.html" accesskey="U">9. MDAnalysis library</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/mdanalysis-logo-200x150.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">9.9. Helper functions &#8212; <code class="docutils literal"><span class="pre">MDAnalysis.lib.util</span></code></a><ul>
<li><a class="reference internal" href="#files-and-directories">9.9.1. Files and directories</a></li>
<li><a class="reference internal" href="#streams">9.9.2. Streams</a></li>
<li><a class="reference internal" href="#containers-and-lists">9.9.3. Containers and lists</a></li>
<li><a class="reference internal" href="#file-parsing">9.9.4. File parsing</a></li>
<li><a class="reference internal" href="#data-manipulation-and-handling">9.9.5. Data manipulation and handling</a></li>
<li><a class="reference internal" href="#strings">9.9.6. Strings</a></li>
<li><a class="reference internal" href="#class-decorators">9.9.7. Class decorators</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="qcprot.html"
                        title="previous chapter">9.8. Fast QCP RMSD structure alignment &#8212; <code class="docutils literal"><span class="pre">MDAnalysis.lib.qcprot</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../version.html"
                        title="next chapter">10. Version information for MDAnalysis — <code class="docutils literal"><span class="pre">MDAnalysis.version</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/documentation_pages/lib/util.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-MDAnalysis.lib.util"></span><div class="section" id="helper-functions-mdanalysis-lib-util">
<h1>9.9. Helper functions &#8212; <a class="reference internal" href="#module-MDAnalysis.lib.util" title="MDAnalysis.lib.util"><code class="xref py py-mod docutils literal"><span class="pre">MDAnalysis.lib.util</span></code></a><a class="headerlink" href="#helper-functions-mdanalysis-lib-util" title="Permalink to this headline">¶</a></h1>
<p>Small helper functions that don&#8217;t fit anywhere else.</p>
<div class="section" id="files-and-directories">
<h2>9.9.1. Files and directories<a class="headerlink" href="#files-and-directories" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="MDAnalysis.lib.util.filename">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">filename</code><span class="sig-paren">(</span><em>name</em>, <em>ext=None</em>, <em>keep=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new name that has suffix attached; replaces other extensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*name*</strong> &#8211; filename; extension is replaced unless keep=True;
<em>name</em> can also be a <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a> (and its
<code class="xref py py-attr docutils literal"><span class="pre">NamedStream.name</span></code> will be changed accordingly)</li>
<li><strong>*ext*</strong> &#8211; extension</li>
<li><strong>*keep*</strong> &#8211; <ul>
<li><code class="docutils literal"><span class="pre">False</span></code>: replace existing extension with <em>ext</em>;</li>
<li><code class="docutils literal"><span class="pre">True</span></code>: keep old extension if one existed</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.9.0: </span>Also permits <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a> to pass through.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.openany">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">openany</code><span class="sig-paren">(</span><em>directory</em><span class="optional">[</span>, <em>mode='r'</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#openany"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.openany" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager to open a compressed (bzip2, gzip) or plain file
(uses <a class="reference internal" href="#MDAnalysis.lib.util.anyopen" title="MDAnalysis.lib.util.anyopen"><code class="xref py py-func docutils literal"><span class="pre">anyopen()</span></code></a>).</p>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.anyopen">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">anyopen</code><span class="sig-paren">(</span><em>datasource</em>, <em>mode='r'</em>, <em>reset=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#anyopen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.anyopen" title="Permalink to this definition">¶</a></dt>
<dd><p>Open datasource (gzipped, bzipped, uncompressed) and return a stream.</p>
<p><em>datasource</em> can be a filename or a stream (see <a class="reference internal" href="#MDAnalysis.lib.util.isstream" title="MDAnalysis.lib.util.isstream"><code class="xref py py-func docutils literal"><span class="pre">isstream()</span></code></a>). By
default, a stream is reset to its start if possible (via
<a class="reference external" href="http://docs.python.org/library/io.html#io.IOBase.seek" title="(in Python v2.7)"><code class="xref py py-meth docutils literal"><span class="pre">seek()</span></code></a> or <code class="xref py py-meth docutils literal"><span class="pre">reset()</span></code>).</p>
<p>If possible, the attribute <code class="docutils literal"><span class="pre">stream.name</span></code> is set to the filename or
&#8220;&lt;stream&gt;&#8221; if no filename could be associated with the <em>datasource</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>*datasource*</strong> &#8211; a file (from <code class="xref py py-class docutils literal"><span class="pre">file</span></code> or <a class="reference external" href="http://docs.python.org/library/functions.html#open" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">open()</span></code></a>) or a stream (e.g. from
<a class="reference external" href="http://docs.python.org/library/urllib2.html#urllib2.urlopen" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">urllib2.urlopen()</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">cStringIO.StringIO</span></code>)</li>
<li><strong>*mode*</strong> &#8211; &#8216;r&#8217; or &#8216;w&#8217; or &#8216;a&#8217;, more complicated modes (&#8216;r+&#8217;, &#8216;w+&#8217; are not supported because
only the first letter is looked at) [<code class="docutils literal"><span class="pre">'r'</span></code>]</li>
<li><strong>*reset*</strong> &#8211; try to read (<em>mode</em> &#8216;r&#8217;) the stream from the start [<code class="docutils literal"><span class="pre">True</span></code>]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tuple <code class="docutils literal"><span class="pre">stream</span></code> which is a file-like object</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#MDAnalysis.lib.util.openany" title="MDAnalysis.lib.util.openany"><code class="xref py py-func docutils literal"><span class="pre">openany()</span></code></a> to be used with the <a class="reference external" href="http://docs.python.org/reference/compound_stmts.html#with" title="(in Python v2.7)"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.9.0: </span>Only returns the <code class="docutils literal"><span class="pre">stream</span></code> and tries to set <code class="docutils literal"><span class="pre">stream.name</span> <span class="pre">=</span> <span class="pre">filename</span></code> instead of the previous
behavior to return a tuple <code class="docutils literal"><span class="pre">(stream,</span> <span class="pre">filename)</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.greedy_splitext">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">greedy_splitext</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#greedy_splitext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.greedy_splitext" title="Permalink to this definition">¶</a></dt>
<dd><p>Split extension in path <em>p</em> at the left-most separator.</p>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.which">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">which</code><span class="sig-paren">(</span><em>program</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#which"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.which" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine full path of executable <em>program</em> on <span class="target" id="index-0"></span><a class="reference external" href="http://matplotlib.org/faq/environment_variables_faq.html#envvar-PATH" title="(in Matplotlib v1.4.3)"><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code></a>.</p>
<p>(Jay at <a class="reference external" href="http://stackoverflow.com/questions/377017/test-if-executable-exists-in-python">http://stackoverflow.com/questions/377017/test-if-executable-exists-in-python</a>)</p>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.realpath">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">realpath</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#realpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.realpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Join all args and return the real path, rooted at /.</p>
<p>Expands &#8216;~&#8217;, &#8216;~user&#8217;, and environment variables such as :envvar`$HOME`.</p>
<p>Returns <code class="docutils literal"><span class="pre">None</span></code> if any of the args is <code class="docutils literal"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.guess_format">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">guess_format</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#guess_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.guess_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the format of <em>filename</em></p>
<p>The current heuristic simply looks at the filename extension
and can work around compressed format extensions</p>
<p><em>filename</em> can also be a stream, in which case
<em>filename.name</em> is looked at for a hint to the format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">*ValueError*</span></code> &#8211;</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.11.0: </span>Moved into lib.util</p>
</div>
</dd></dl>

</div>
<div class="section" id="streams">
<h2>9.9.2. Streams<a class="headerlink" href="#streams" title="Permalink to this headline">¶</a></h2>
<p>Many of the readers are not restricted to just reading files. They can
also use gzip-compressed or bzip2-compressed files (through the
internal use of <a class="reference internal" href="#MDAnalysis.lib.util.openany" title="MDAnalysis.lib.util.openany"><code class="xref py py-func docutils literal"><span class="pre">openany()</span></code></a>). It is also possible to provide more
general streams as inputs, such as a <a class="reference external" href="http://docs.python.org/library/stringio.html#cStringIO.StringIO" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">cStringIO.StringIO()</span></code></a>
instances (essentially, a memory buffer) by wrapping these instances
into a <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a>. This <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a> can then be
used in place of an ordinary file name (typically, with a
class:<cite>~MDAnalysis.core.AtomGroup.Universe</cite> but it is also possible to
<em>write</em> to such a stream using <code class="xref py py-func docutils literal"><span class="pre">MDAnalysis.Writer()</span></code>).</p>
<p>In the following example, we use a PDB stored as a string <code class="docutils literal"><span class="pre">pdb_s</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">MDAnalysis</span>
<span class="kn">from</span> <span class="nn">MDAnalysis.lib.util</span> <span class="kn">import</span> <span class="n">NamedStream</span>
<span class="kn">import</span> <span class="nn">cStringIO</span>

<span class="n">pdb_s</span> <span class="o">=</span> <span class="s">&quot;TITLE     Lonely Ion</span><span class="se">\n</span><span class="s">ATOM      1  NA  NA+     1      81.260  64.982  10.926  1.00  0.00</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">MDAnalysis</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">NamedStream</span><span class="p">(</span><span class="n">cStringIO</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">pdb_s</span><span class="p">),</span> <span class="s">&quot;ion.pdb&quot;</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="c">#  &lt;Universe with 1 atoms&gt;</span>
<span class="k">print</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">positions</span><span class="p">)</span>
<span class="c"># [[ 81.26000214  64.98200226  10.92599964]]</span>
</pre></div>
</div>
<p>It is important to provide a proper pseudo file name with the correct extension
(&#8221;.pdb&#8221;) to <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a> because the file type recognition uses the
extension of the file name to determine the file format or alternatively
provide the <code class="docutils literal"><span class="pre">format=&quot;pdb&quot;</span></code> keyword argument to the
<a class="reference internal" href="../core/AtomGroup.html#MDAnalysis.core.AtomGroup.Universe" title="MDAnalysis.core.AtomGroup.Universe"><code class="xref py py-class docutils literal"><span class="pre">Universe</span></code></a>.</p>
<p>The use of streams becomes more interesting when MDAnalysis is used as glue
between different analysis packages and when one can arrange things so that
intermediate frames (typically in the PDB format) are not written to disk but
remain in memory via e.g. <a class="reference external" href="http://docs.python.org/library/stringio.html#module-cStringIO" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">cStringIO</span></code></a> buffers.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A remote connection created by <a class="reference external" href="http://docs.python.org/library/urllib2.html#urllib2.urlopen" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">urllib2.urlopen()</span></code></a> is not seekable
and therefore will often not work as an input. But try it...</p>
</div>
<dl class="class">
<dt id="MDAnalysis.lib.util.NamedStream">
<em class="property">class </em><code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">NamedStream</code><span class="sig-paren">(</span><em>stream</em>, <em>filename</em>, <em>reset=True</em>, <em>close=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream that also provides a (fake) name.</p>
<p>By wrapping a stream <em>stream</em> in this class, it can be passed to
code that uses inspection of the filename to make decisions. For
instance. <a class="reference external" href="http://docs.python.org/library/os.path.html#os.path.split" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">os.path.split()</span></code></a> will work correctly on a
<a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a>.</p>
<p>The class can be used as a context manager.</p>
<p><a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a> is derived from <a class="reference external" href="http://docs.python.org/library/io.html#io.IOBase" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">io.IOBase</span></code></a> (to indicate that
it is a stream) <em>and</em> <code class="xref py py-class docutils literal"><span class="pre">basestring</span></code> (that one can use
<a class="reference internal" href="#MDAnalysis.lib.util.iterable" title="MDAnalysis.lib.util.iterable"><code class="xref py py-func docutils literal"><span class="pre">iterable()</span></code></a> in the same way as for strings).</p>
<p class="rubric">Example</p>
<p>Wrap a <a class="reference external" href="http://docs.python.org/library/stringio.html#cStringIO.StringIO" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">cStringIO.StringIO()</span></code></a> instance to write to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">cStringIO</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">cStringIO</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">NamedStream</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="s">&quot;output.pdb&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
</pre></div>
</div>
<p>Wrap a <code class="xref py py-class docutils literal"><span class="pre">file</span></code> instance to read from:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">stream</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;input.pdb&quot;</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">NamedStream</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">stream</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>Use as a context manager (closes stream automatically when the
<a class="reference external" href="http://docs.python.org/reference/compound_stmts.html#with" title="(in Python v2.7)"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> block is left):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">NamedStream</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&quot;input.pdb&quot;</span><span class="p">),</span> <span class="s">&quot;input.pdb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
   <span class="c"># use f</span>
   <span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">closed</span>  <span class="c"># --&gt; False</span>
   <span class="c"># ...</span>
<span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">closed</span>     <span class="c"># --&gt; True</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This class uses its own <code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code> method so if <em>stream</em>
implements <code class="xref py py-meth docutils literal"><span class="pre">stream.__getitem__()</span></code> then that will be masked and this
class should not be used.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default, <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.close" title="MDAnalysis.lib.util.NamedStream.close"><code class="xref py py-meth docutils literal"><span class="pre">NamedStream.close()</span></code></a> will <strong>not close the
stream</strong> but instead <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.reset" title="MDAnalysis.lib.util.NamedStream.reset"><code class="xref py py-meth docutils literal"><span class="pre">reset()</span></code></a> it to the
beginning. <a class="footnote-reference" href="#namedstreamclose" id="id1">[1]</a> Provide the <code class="docutils literal"><span class="pre">force=True</span></code> keyword
to <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.close" title="MDAnalysis.lib.util.NamedStream.close"><code class="xref py py-meth docutils literal"><span class="pre">NamedStream.close()</span></code></a> to always close the stream.</p>
</div>
<p>Initialize the <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a> from a <em>stream</em> and give it a <em>name</em>.</p>
<p>The constructor attempts to rewind the stream to the beginning unless
the keyword <em>reset</em> is set to <code class="docutils literal"><span class="pre">False</span></code>. If rewinding fails, a
<code class="xref py py-class docutils literal"><span class="pre">MDAnalysis.StreamWarning</span></code> is issued.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, this stream will <em>not</em> be closed by <a class="reference external" href="http://docs.python.org/reference/compound_stmts.html#with" title="(in Python v2.7)"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> and
<a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.close" title="MDAnalysis.lib.util.NamedStream.close"><code class="xref py py-meth docutils literal"><span class="pre">close()</span></code></a> (see there) unless the <em>close</em> keyword is set to
<code class="docutils literal"><span class="pre">True</span></code>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>*stream*</strong> &#8211; open stream (e.g. <code class="xref py py-class docutils literal"><span class="pre">file</span></code> or <a class="reference external" href="http://docs.python.org/library/stringio.html#cStringIO.StringIO" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">cStringIO.StringIO()</span></code></a>)</li>
<li><strong>*filename*</strong> &#8211; the filename that should be associated with the stream</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Keywords:</th><td class="field-body"><dl class="first last docutils">
<dt><em>reset</em></dt>
<dd><p class="first last">start the stream from the beginning (either <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.reset" title="MDAnalysis.lib.util.NamedStream.reset"><code class="xref py py-meth docutils literal"><span class="pre">reset()</span></code></a> or <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.seek" title="MDAnalysis.lib.util.NamedStream.seek"><code class="xref py py-meth docutils literal"><span class="pre">seek()</span></code></a>)
when the class instance is constructed [<code class="docutils literal"><span class="pre">True</span></code>]</p>
</dd>
<dt><em>close</em></dt>
<dd><p class="first last">close the stream when a <a class="reference external" href="http://docs.python.org/reference/compound_stmts.html#with" title="(in Python v2.7)"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> block exits or when
<a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.close" title="MDAnalysis.lib.util.NamedStream.close"><code class="xref py py-meth docutils literal"><span class="pre">close()</span></code></a> is called; note that the default is <strong>not to close
the stream</strong> [<code class="docutils literal"><span class="pre">False</span></code>]</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.9.0.</span></p>
</div>
<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.__del__">
<code class="descname">__del__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.__del__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p>Always closes the stream.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset or close the stream.</p>
<p>If <code class="xref py py-attr docutils literal"><span class="pre">NamedStream.close_stream</span></code> is set to <code class="docutils literal"><span class="pre">False</span></code> (the default)
then this method will <em>not close the stream</em> and only <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.reset" title="MDAnalysis.lib.util.NamedStream.reset"><code class="xref py py-meth docutils literal"><span class="pre">reset()</span></code></a> it.</p>
<p>If the <em>force</em> = <code class="docutils literal"><span class="pre">True</span></code> keyword is provided, the stream will be
closed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This <code class="docutils literal"><span class="pre">close()</span></code> method is non-standard. <code class="docutils literal"><span class="pre">del</span> <span class="pre">NamedStream</span></code>
always closes the underlying stream.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="MDAnalysis.lib.util.NamedStream.closed">
<code class="descname">closed</code><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.closed" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if stream is closed.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.fileno">
<code class="descname">fileno</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.fileno"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.fileno" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying file descriptor (an integer) of the stream if it exists.</p>
<p>An <code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code> is raised if the IO object does not use a file descriptor.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush the write buffers of the stream if applicable.</p>
<p>This does nothing for read-only and non-blocking streams. For file
objects one also needs to call <a class="reference external" href="http://docs.python.org/library/os.html#os.fsync" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">os.fsync()</span></code></a> to write contents to
disk.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.readable">
<code class="descname">readable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.readable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.readable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the stream can be read from.</p>
<p>If <code class="docutils literal"><span class="pre">False</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">read()</span></code> will raise <code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Move to the beginning of the stream</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.seek">
<code class="descname">seek</code><span class="sig-paren">(</span><em>offset</em>, <em>whence=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.seek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the stream position to the given byte <em>offset</em> .</p>
<p><em>offset</em> is interpreted relative to the position indicated by
<em>whence</em>. Values for <em>whence</em> are:</p>
<ul class="simple">
<li><code class="xref py py-data docutils literal"><span class="pre">io.SEEK_SET</span></code> or 0 – start of the stream (the default); <em>offset</em>
should be zero or positive</li>
<li><code class="xref py py-data docutils literal"><span class="pre">io.SEEK_CUR</span></code> or 1 – current stream position; <em>offset</em> may be
negative</li>
<li><code class="xref py py-data docutils literal"><span class="pre">io.SEEK_END</span></code> or 2 – end of the stream; <em>offset</em> is usually
negative</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the new absolute position.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.seekable">
<code class="descname">seekable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.seekable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.seekable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the stream supports random access.</p>
<p>If <code class="docutils literal"><span class="pre">False</span></code>, <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.seek" title="MDAnalysis.lib.util.NamedStream.seek"><code class="xref py py-meth docutils literal"><span class="pre">seek()</span></code></a>, <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.tell" title="MDAnalysis.lib.util.NamedStream.tell"><code class="xref py py-meth docutils literal"><span class="pre">tell()</span></code></a> and <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.truncate" title="MDAnalysis.lib.util.NamedStream.truncate"><code class="xref py py-meth docutils literal"><span class="pre">truncate()</span></code></a> will raise <code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.tell">
<code class="descname">tell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.tell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current stream position.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.truncate">
<code class="descname">truncate</code><span class="sig-paren">(</span><em>*size</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.truncate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate the stream&#8217;s size to <em>size</em>.</p>
<p>The size defaults to the current position (if no <em>size</em> argument is
supplied). The current file position is not changed.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.NamedStream.writable">
<code class="descname">writable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#NamedStream.writable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.NamedStream.writable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the stream can be written to.</p>
<p>If <code class="docutils literal"><span class="pre">False</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">write()</span></code> will raise <code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.isstream">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">isstream</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#isstream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.isstream" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect if <em>obj</em> is a stream.</p>
<p>We consider anything a stream that has the methods</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">close()</span></code></li>
</ul>
<p>and either set of the following</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">read()</span></code>, <code class="docutils literal"><span class="pre">readline()</span></code>, <code class="docutils literal"><span class="pre">readlines()</span></code></li>
<li><code class="docutils literal"><span class="pre">write()</span></code>, <code class="docutils literal"><span class="pre">writeline()</span></code>, <code class="docutils literal"><span class="pre">writelines()</span></code></li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.python.org/library/io.html#module-io" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">io</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*obj*</strong> &#8211; stream or string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> is <em>obj</em> is a stream, <code class="docutils literal"><span class="pre">False</span></code> otherwise</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.9.0.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="containers-and-lists">
<h2>9.9.3. Containers and lists<a class="headerlink" href="#containers-and-lists" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="MDAnalysis.lib.util.iterable">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">iterable</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#iterable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.iterable" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal"><span class="pre">True</span></code> if <em>obj</em> can be iterated over and is <em>not</em> a  string.</p>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.asiterable">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">asiterable</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#asiterable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.asiterable" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns obj so that it can be iterated over; a string is <em>not</em> treated as iterable</p>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.hasmethod">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">hasmethod</code><span class="sig-paren">(</span><em>obj</em>, <em>m</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#hasmethod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.hasmethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if object <em>obj</em> contains the method <em>m</em>.</p>
</dd></dl>

</div>
<div class="section" id="file-parsing">
<h2>9.9.4. File parsing<a class="headerlink" href="#file-parsing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="MDAnalysis.lib.util.FORTRANReader">
<em class="property">class </em><code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">FORTRANReader</code><span class="sig-paren">(</span><em>fmt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#FORTRANReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.FORTRANReader" title="Permalink to this definition">¶</a></dt>
<dd><p>FORTRANReader provides a method to parse FORTRAN formatted lines in a file.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">atomformat</span> <span class="o">=</span> <span class="n">FORTRANReader</span><span class="p">(</span><span class="s">&#39;2I10,2X,A8,2X,A8,3F20.10,2X,A8,2X,A8,F20.10&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;coordinates.crd&#39;</span><span class="p">):</span>
    <span class="n">serial</span><span class="p">,</span><span class="n">TotRes</span><span class="p">,</span><span class="n">resName</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">chainID</span><span class="p">,</span><span class="n">resSeq</span><span class="p">,</span><span class="n">tempFactor</span> <span class="o">=</span> <span class="n">atomformat</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
<p>Fortran format edit descriptors; see <a class="reference external" href="http://www.webcitation.org/5xbaWMV2x">Fortran Formats</a> for the syntax.</p>
<p>Only simple one-character specifiers supported here: <em>I F E A X</em> (see
<a class="reference internal" href="#MDAnalysis.lib.util.FORTRAN_format_regex" title="MDAnalysis.lib.util.FORTRAN_format_regex"><code class="xref py py-data docutils literal"><span class="pre">FORTRAN_format_regex</span></code></a>).</p>
<p>Strings are stripped of leading and trailing white space.</p>
<p>Set up the reader with the FORTRAN format string.</p>
<p>The string <em>fmt</em> should look like &#8216;2I10,2X,A8,2X,A8,3F20.10,2X,A8,2X,A8,F20.10&#8217;.</p>
<dl class="method">
<dt id="MDAnalysis.lib.util.FORTRANReader.__len__">
<code class="descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#FORTRANReader.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.FORTRANReader.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of entries.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.FORTRANReader.number_of_matches">
<code class="descname">number_of_matches</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#FORTRANReader.number_of_matches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.FORTRANReader.number_of_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Return how many format entries could be populated with legal values.</p>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.FORTRANReader.parse_FORTRAN_format">
<code class="descname">parse_FORTRAN_format</code><span class="sig-paren">(</span><em>edit_descriptor</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#FORTRANReader.parse_FORTRAN_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.FORTRANReader.parse_FORTRAN_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the descriptor.</p>
<blockquote>
<div>parse_FORTRAN_format(edit_descriptor) &#8211;&gt; dict</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict with totallength (in chars), repeat, length,
format, decimals</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> if the <em>edit_descriptor</em> is not recognized
and cannot be parsed</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Specifiers: <em>L ES EN T TL TR / r S SP SS BN BZ</em> are <em>not</em>
supported, and neither are the scientific notation <em>Ew.dEe</em>
forms.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="MDAnalysis.lib.util.FORTRANReader.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#FORTRANReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.FORTRANReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse <em>line</em> according to the format string and return list of values.</p>
<p>Values are converted to Python types according to the format specifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of entries with appropriate types</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> if any of the conversions cannot be made
(e.g. space for an int)</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#MDAnalysis.lib.util.FORTRANReader.number_of_matches" title="MDAnalysis.lib.util.FORTRANReader.number_of_matches"><code class="xref py py-meth docutils literal"><span class="pre">FORTRANReader.number_of_matches()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="MDAnalysis.lib.util.FORTRAN_format_regex">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">FORTRAN_format_regex</code><em class="property"> = '(?P&lt;repeat&gt;\\d+?)(?P&lt;format&gt;[IFEAX])(?P&lt;numfmt&gt;(?P&lt;length&gt;\\d+)(\\.(?P&lt;decimals&gt;\\d+))?)?'</em><a class="headerlink" href="#MDAnalysis.lib.util.FORTRAN_format_regex" title="Permalink to this definition">¶</a></dt>
<dd><p>Regular expresssion (see <a class="reference external" href="http://docs.python.org/library/re.html#module-re" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">re</span></code></a>) to parse a simple <a class="reference external" href="http://www.cs.mtu.edu/~shene/COURSES/cs201/NOTES/chap05/format.html">FORTRAN edit descriptor</a>.
<code class="docutils literal"><span class="pre">(?P&lt;repeat&gt;\d?)(?P&lt;format&gt;[IFELAX])(?P&lt;numfmt&gt;(?P&lt;length&gt;\d+)(\.(?P&lt;decimals&gt;\d+))?)?</span></code></p>
</dd></dl>

</div>
<div class="section" id="data-manipulation-and-handling">
<h2>9.9.5. Data manipulation and handling<a class="headerlink" href="#data-manipulation-and-handling" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="MDAnalysis.lib.util.fixedwidth_bins">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">fixedwidth_bins</code><span class="sig-paren">(</span><em>delta</em>, <em>xmin</em>, <em>xmax</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#fixedwidth_bins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.fixedwidth_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return bins of width delta that cover xmin,xmax (or a larger range).</p>
<p>dict = fixedwidth_bins(delta,xmin,xmax)</p>
<p>The dict contains &#8216;Nbins&#8217;, &#8216;delta&#8217;, &#8216;min&#8217;, and &#8216;max&#8217;.</p>
</dd></dl>

</div>
<div class="section" id="strings">
<h2>9.9.6. Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="MDAnalysis.lib.util.convert_aa_code">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">convert_aa_code</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#convert_aa_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.convert_aa_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts between 3-letter and 1-letter amino acid codes.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Data are defined in <code class="xref py py-data docutils literal"><span class="pre">amino_acid_codes</span></code> and <code class="xref py py-data docutils literal"><span class="pre">inverse_aa_codes</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.parse_residue">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">parse_residue</code><span class="sig-paren">(</span><em>residue</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#parse_residue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.parse_residue" title="Permalink to this definition">¶</a></dt>
<dd><p>Process residue string.</p>
<p class="rubric">Examples</p>
<ul class="simple">
<li>&#8220;LYS300:HZ1&#8221; &#8211;&gt; (&#8220;LYS&#8221;, 300, &#8220;HZ1&#8221;)</li>
<li>&#8220;K300:HZ1&#8221; &#8211;&gt; (&#8220;LYS&#8221;, 300, &#8220;HZ1&#8221;)</li>
<li>&#8220;K300&#8221; &#8211;&gt; (&#8220;LYS&#8221;, 300, None)</li>
<li>&#8220;4GB300:H6O&#8221; &#8211;&gt; (&#8220;4GB&#8221;, 300, &#8220;H6O&#8221;)</li>
<li>&#8220;4GB300&#8221; &#8211;&gt; (&#8220;4GB&#8221;, 300, None)</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Argument:</th><td class="field-body">The <em>residue</em> must contain a 1-letter or 3-letter or
4-letter residue string, a number (the resid) and
optionally an atom identifier, which must be separate
from the residue with a colon (&#8221;:&#8221;). White space is
allowed in between.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><cite>(3-letter aa string, resid, atomname)</cite>; known 1-letter
aa codes are converted to 3-letter codes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="MDAnalysis.lib.util.conv_float">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">conv_float</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#conv_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.conv_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an object <em>s</em> to float if possible.</p>
<p>Function to be passed into <a class="reference external" href="http://docs.python.org/library/functions.html#map" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">map()</span></code></a> or a list comprehension. If
the argument can be interpreted as a float it is converted,
otherwise the original object is passed back.</p>
</dd></dl>

</div>
<div class="section" id="class-decorators">
<h2>9.9.7. Class decorators<a class="headerlink" href="#class-decorators" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="MDAnalysis.lib.util.cached">
<code class="descclassname">MDAnalysis.lib.util.</code><code class="descname">cached</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/MDAnalysis/lib/util.html#cached"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MDAnalysis.lib.util.cached" title="Permalink to this definition">¶</a></dt>
<dd><p>Cache a property within a class</p>
<p>Requires the Class to have a cache dict called <code class="docutils literal"><span class="pre">_cache</span></code>.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>class A(object):
    def__init__(self):
        self._cache = dict()

    @property
    @cached(&#39;keyname&#39;)
    def size(self):
        # This code gets ran only if the lookup of keyname fails
        # After this code has been ran once, the result is stored in
        # _cache with the key: &#39;keyname&#39;
        size = 10.0
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.9.0.</span></p>
</div>
</dd></dl>

<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="namedstreamclose" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The reason why <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.close" title="MDAnalysis.lib.util.NamedStream.close"><code class="xref py py-meth docutils literal"><span class="pre">NamedStream.close()</span></code></a> does
not close a stream by default (but just rewinds it to the
beginning) is so that one can use the class <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream" title="MDAnalysis.lib.util.NamedStream"><code class="xref py py-class docutils literal"><span class="pre">NamedStream</span></code></a> as
a drop-in replacement for file names, which are often re-opened
(e.g. when the same file is used as a topology and coordinate file
or when repeatedly iterating through a trajectory in some
implementations). The <code class="docutils literal"><span class="pre">close=True</span></code> keyword can be supplied in
order to make <a class="reference internal" href="#MDAnalysis.lib.util.NamedStream.close" title="MDAnalysis.lib.util.NamedStream.close"><code class="xref py py-meth docutils literal"><span class="pre">NamedStream.close()</span></code></a> actually close the
underlying stream and <code class="docutils literal"><span class="pre">NamedStream.close(force=True)</span></code> will also
close it.</td></tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.11.0: </span>Moved mathematical functions into lib.mdamath</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../version.html" title="10. Version information for MDAnalysis — MDAnalysis.version"
             >next</a> |</li>
        <li class="right" >
          <a href="qcprot.html" title="9.8. Fast QCP RMSD structure alignment — MDAnalysis.lib.qcprot"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MDAnalysis 0.12.1 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../lib_modules.html" >9. MDAnalysis library</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005-2015, Naveen Michaud-Agrawal, Elizabeth J. Denning, Joshua Adelman, Jonathan Barnoud,
    Christian Beckstein (logo), Alejandro Bernardin, Sébastien Buchoux,
    David Caplan, Matthieu Chavent, Xavier Deupi, Jan Domański, David L. Dotson
    Lennard van der Feltz, Philip Fowler, Joseph Goose, Richard J. Gowers, Lukas Grossar,
    Benjamin Hall, Joe Jordan, Jinju Lu, Robert McGibbon, Alex Nesterenko,
    Manuel Nuno Melo, Caio S. Souza, Danny Parton, Joshua L. Phillips, Tyler Reddy,
    Paul Rigor, Sean L. Seyler, Andy Somogyi, Lukas Stelzl, Gorman Stock, Isaac Virshup,
    Zhuyi Xue, Carlos Yáñez S.,
    and Oliver Beckstein.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>