description "ship logs to logstash via gribble"

start on runlevel [2345]
stop on runlevel [!2345]
respawn

env GRIBBLE_MODE=connect

## Individual files to send
#env GRIBBLE_FILES=/var/log/syslog

## Send all files under path
#env GRIBBLE_PATH=/var/log

## Redis
#env GRIBBLE_TRANSPORT=redis
#env REDIS_NAMESPACE='logstash'
#env REDIS_URL='redis://redis:6379/0'

## ZeroMQ
#env ZEROMQ_ADDRESS='tcp://indexer:5556'

## RabbitMQ
#env RABBITMQ_HOST=rabbit
#env RABBITMQ_PORT=5672
#env RABBITMQ_VHOST='/'
#env RABBITMQ_USERNAME='guest'
#env RABBITMQ_PASSWORD='guest'
#env RABBITMQ_QUEUE='logstash-queue'
#env RABBITMQ_KEY='logstash-key'
#env RABBITMQ_EXCHANGE='logstash-exchange'

exec /usr/local/bin/gribble

## If you would prefer to use a config file, use this line instead
#exec /usr/local/bin/gribble -c /etc/gribble/conf
