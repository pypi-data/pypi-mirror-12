{"version":3,"sources":["messages.coffee"],"names":[],"mappings":";AAAA;;;;;AAAA;AAAA,MAAA,WAAA;IAAA;;EAKA,CAAA,GAAI;;EAGE;IAES,kBAAC,EAAD;;;;;MACX,IAAC,CAAA,EAAD,GAAM,CAAA,CAAE,EAAF;MACN,IAAC,CAAA,eAAD,GAAmB,IAAC,CAAA,EAAE,CAAC,IAAJ,CAAS,2BAAT;MACnB,IAAC,CAAA,KAAD,CAAA;IAHW;;uBAKb,KAAA,GAAO,SAAA;MACL,IAAC,CAAA,aAAD,CAAA;MACA,IAAC,CAAA,mBAAD,CAAA;MACA,IAAC,CAAA,eAAe,CAAC,EAAjB,CAAoB,OAApB,EAA6B,IAAC,CAAA,WAA9B;aACA,IAAC,CAAA,eAAe,CAAC,EAAjB,CAAoB,OAApB,EAA6B,IAAC,CAAA,SAA9B;IAJK;;uBAMP,aAAA,GAAe,SAAA;MACb,IAAG,CAAI,IAAC,CAAA,OAAD,CAAA,CAAP;AACE,eADF;;aAGA,IAAC,CAAA,EAAE,CAAC,QAAJ,CAAa,UAAb;IAJa;;uBAMf,mBAAA,GAAqB,SAAA;MACnB,IAAG,CAAI,IAAC,CAAA,OAAD,CAAA,CAAP;AACE,eADF;;aAGA,IAAC,CAAA,EACC,CAAC,IADH,CACQ,oBADR,CAEE,CAAC,IAFH,CAAA;IAJmB;;uBAQrB,WAAA,GAAa,SAAC,CAAD;MACX,CAAA,CAAE,CAAC,CAAC,aAAJ,CACE,CAAC,OADH,CACW,kBADX,CAEE,CAAC,IAFH,CAAA;MAIA,IAAG,CAAI,IAAC,CAAA,kBAAD,CAAA,CAAP;QACE,IAAC,CAAA,EAAE,CAAC,IAAJ,CAAA;QACA,IAAC,CAAA,EAAE,CAAC,WAAJ,CAAgB,UAAhB,EAFF;;IALW;;uBAWb,kBAAA,GAAoB,SAAA;AAClB,aAAO,IAAC,CAAA,EACN,CAAC,IADI,CACC,kBADD,CAEL,CAAC,EAFI,CAED,UAFC;IADW;;uBAKpB,SAAA,GAAW,SAAC,CAAD;MACT,CAAC,CAAC,cAAF,CAAA;MACA,CAAC,CAAC,eAAF,CAAA;IAFS;;uBAKX,OAAA,GAAS,SAAA;AACP,UAAA;MAAA,IAAA,GAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAArB,CAA2B,GAA3B,CAAgC,CAAA,CAAA;AACvC,aAAO,cAAA,IAAU,IAAI,CAAC,MAAL,GAAc;IAFxB;;;;;;EAKX,CAAC,CAAC,EAAE,CAAC,MAAL,CACE;IAAA,QAAA,EAAU,SAAA;aACR,IAAC,CAAA,IAAD,CAAM,SAAA;QACJ,IAAG,CAAI,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,iBAAV,CAAP;iBACE,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,iBAAV,EAAiC,IAAA,QAAA,CAAS,IAAT,CAAjC,EADF;;MADI,CAAN;IADQ,CAAV;GADF;;EAMA,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAd,GAAyB;AAnEzB","file":"messages.js","sourceRoot":"/source/","sourcesContent":["###\n  Place the flash message box fixed at the\n  top of the window when the url contains a hash\n###\n\n$ = jQuery\n\n\nclass Messages\n\n  constructor: (el) ->\n    @el = $(el)\n    @allCloseButtons = @el.find('.js-messages-close-button')\n    @setUp()\n\n  setUp: ->\n    @placeMessages()\n    @showAllCloseButtons()\n    @allCloseButtons.on('click', @hideMessage)\n    @allCloseButtons.on('click', @stopClick)\n\n  placeMessages: =>\n    if not @hasHash()\n      return\n\n    @el.addClass('is-fixed')\n\n  showAllCloseButtons: =>\n    if not @hasHash()\n      return\n\n    @el\n      .find('.js-messages-close')\n      .show()\n\n  hideMessage: (e) =>\n    $(e.currentTarget)\n      .closest('.js-messages-set')\n      .hide()\n\n    if not @hasVisibleMessages()\n      @el.hide()\n      @el.removeClass('is-fixed')\n\n    return\n\n  hasVisibleMessages: () =>\n    return @el\n      .find('.js-messages-set')\n      .is(\":visible\")\n\n  stopClick: (e) ->\n    e.preventDefault()\n    e.stopPropagation()\n    return\n\n  hasHash: ->\n    hash = window.location.hash.split(\"#\")[1]\n    return hash? and hash.length > 0\n\n\n$.fn.extend\n  messages: ->\n    @each ->\n      if not $(@).data('plugin_messages')\n        $(@).data('plugin_messages', new Messages(@))\n\n$.fn.messages.Messages = Messages\n"]}