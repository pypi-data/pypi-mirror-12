{"version":3,"sources":["postify.coffee"],"names":[],"mappings":";AAAA;;;;AAAA;AAAA,MAAA,UAAA;IAAA;;EAIA,CAAA,GAAI;;EAGE;sBAEJ,QAAA,GACE;MAAA,SAAA,EAAW,YAAX;;;IAEW,iBAAC,EAAD,EAAK,OAAL;;MACX,IAAC,CAAA,EAAD,GAAM,CAAA,CAAE,EAAF;MACN,IAAC,CAAA,OAAD,GAAW,CAAC,CAAC,MAAF,CAAS,EAAT,EAAa,IAAC,CAAA,QAAd,EAAwB,OAAxB;MACR,IAAC,CAAA,KAAJ,CAAA;IAHW;;sBAKb,KAAA,GAAO,SAAA;MACL,IAAC,CAAA,EAAE,CAAC,EAAJ,CAAO,OAAP,EAAgB,IAAC,CAAA,QAAjB;aACA,IAAC,CAAA,EAAE,CAAC,EAAJ,CAAO,OAAP,EAAgB,IAAC,CAAA,SAAjB;IAFK;;sBAIP,QAAA,GAAU,SAAA;AACR,UAAA;MAAA,KAAA,GAAQ,CAAA,CAAE,SAAF,EAAa;QACnB,MAAA,EAAQ,IAAC,CAAA,EAAE,CAAC,IAAJ,CAAS,MAAT,CADW;QAEnB,MAAA,EAAQ,MAFW;OAAb,CAGN,CAAC,IAHK,CAAA,CAGC,CAAC,QAHF,CAGW,CAAA,CAAE,MAAF,CAHX;MAMR,CAAA,CAAE,UAAF,EAAc;QACZ,IAAA,EAAM,qBADM;QAEZ,IAAA,EAAM,QAFM;QAGZ,KAAA,EAAO,IAAC,CAAA,OAAO,CAAC,SAHJ;OAAd,CAIE,CAAC,QAJH,CAIY,KAJZ;MAMA,IAAC,CAAA,UAAD,CAAY,KAAZ;IAbQ;;sBAiBV,UAAA,GAAY,SAAC,KAAD;aACP,KAAK,CAAC,MAAT,CAAA;IADU;;sBAGZ,SAAA,GAAW,SAAC,CAAD;MACN,CAAC,CAAC,cAAL,CAAA;MACG,CAAC,CAAC,eAAL,CAAA;IAFS;;;;;;EAMb,CAAC,CAAC,EAAE,CAAC,MAAL,CACE;IAAA,OAAA,EAAS,SAAC,OAAD;aACP,IAAC,CAAA,IAAD,CAAM,SAAA;QACJ,IAAG,CAAI,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,gBAAV,CAAP;iBACE,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,gBAAV,EAAgC,IAAA,OAAA,CAAQ,IAAR,EAAW,OAAX,CAAhC,EADF;;MADI,CAAN;IADO,CAAT;GADF;;EAMA,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,OAAb,GAAuB;AArDvB","file":"postify.js","sourceRoot":"/source/","sourcesContent":["###\n  Make post on anchor click\n###\n\n$ = jQuery\n\n\nclass Postify\n\n  defaults:\n    csrfToken: \"csrf_token\"\n\n  constructor: (el, options) ->\n    @el = $(el)\n    @options = $.extend {}, @defaults, options\n    do @setUp\n\n  setUp: ->\n    @el.on 'click', @makePost\n    @el.on 'click', @stopClick\n\n  makePost: =>\n    $form = $(\"<form/>\", {\n      action: @el.attr('href'),\n      method: \"post\"\n    }).hide().appendTo $('body')\n\n    # inputCsrfToken\n    $(\"<input/>\", {\n      name: \"csrfmiddlewaretoken\",\n      type: \"hidden\",\n      value: @options.csrfToken\n    }).appendTo $form\n\n    @formSubmit $form\n\n    return\n\n  formSubmit: ($form) ->\n    do $form.submit\n\n  stopClick: (e) ->\n    do e.preventDefault\n    do e.stopPropagation\n    return\n\n\n$.fn.extend\n  postify: (options) ->\n    @each ->\n      if not $(@).data 'plugin_postify'\n        $(@).data 'plugin_postify', new Postify(@, options)\n\n$.fn.postify.Postify = Postify"]}