{"version":3,"sources":["postify.coffee"],"names":[],"mappings":";AAAA;;;;AAAA;AAAA,MAAA,UAAA;IAAA;;EAIA,CAAA,GAAI;;EAGE;sBAEF,QAAA,GAAU;MACN,SAAA,EAAW,YADL;;;IAIG,iBAAC,EAAD,EAAK,OAAL;;MACT,IAAC,CAAA,EAAD,GAAM,CAAA,CAAE,EAAF;MACN,IAAC,CAAA,OAAD,GAAW,CAAC,CAAC,MAAF,CAAS,EAAT,EAAa,IAAC,CAAA,QAAd,EAAwB,OAAxB;MACX,IAAC,CAAA,KAAD,CAAA;IAHS;;sBAKb,KAAA,GAAO,SAAA;MACH,IAAC,CAAA,EAAE,CAAC,EAAJ,CAAO,OAAP,EAAgB,IAAC,CAAA,QAAjB;aACA,IAAC,CAAA,EAAE,CAAC,EAAJ,CAAO,OAAP,EAAgB,IAAC,CAAA,SAAjB;IAFG;;sBAIP,QAAA,GAAU,SAAA;AACN,UAAA;MAAA,KAAA,GAAQ,CAAA,CAAE,SAAF,EAAa;QACjB,MAAA,EAAQ,IAAC,CAAA,EAAE,CAAC,IAAJ,CAAS,MAAT,CADS;QAEjB,MAAA,EAAQ,MAFS;OAAb,CAGN,CAAC,IAHK,CAAA,CAIN,CAAC,QAJK,CAII,CAAA,CAAE,MAAF,CAJJ;MAOR,CAAA,CAAE,UAAF,EAAc;QACV,IAAA,EAAM,qBADI;QAEV,IAAA,EAAM,QAFI;QAGV,KAAA,EAAO,IAAC,CAAA,OAAO,CAAC,SAHN;OAAd,CAIE,CAAC,QAJH,CAIY,KAJZ;MAMA,IAAC,CAAA,UAAD,CAAY,KAAZ;IAdM;;sBAkBV,UAAA,GAAY,SAAC,KAAD;aACR,KAAK,CAAC,MAAN,CAAA;IADQ;;sBAGZ,SAAA,GAAW,SAAC,CAAD;MACP,CAAC,CAAC,cAAF,CAAA;MACA,CAAC,CAAC,eAAF,CAAA;IAFO;;;;;;EAMf,CAAC,CAAC,EAAE,CAAC,MAAL,CACI;IAAA,OAAA,EAAS,SAAC,OAAD;aACL,IAAC,CAAA,IAAD,CAAO,SAAA;QACH,IAAG,CAAI,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,gBAAV,CAAP;iBACI,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,gBAAV,EAAgC,IAAA,OAAA,CAAQ,IAAR,EAAW,OAAX,CAAhC,EADJ;;MADG,CAAP;IADK,CAAT;GADJ;;EAOA,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,OAAb,GAAuB;AAxDvB","file":"postify.js","sourceRoot":"/source/","sourcesContent":["###\n    Make post on anchor click\n###\n\n$ = jQuery\n\n\nclass Postify\n\n    defaults: {\n        csrfToken: \"csrf_token\"\n    }\n\n    constructor: (el, options) ->\n        @el = $(el)\n        @options = $.extend({}, @defaults, options)\n        @setUp()\n\n    setUp: ->\n        @el.on('click', @makePost)\n        @el.on('click', @stopClick)\n\n    makePost: =>\n        $form = $(\"<form/>\", {\n            action: @el.attr('href'),\n            method: \"post\"\n        }).hide()\n          .appendTo($('body'))\n\n        # inputCsrfToken\n        $(\"<input/>\", {\n            name: \"csrfmiddlewaretoken\",\n            type: \"hidden\",\n            value: @options.csrfToken\n        }).appendTo($form)\n\n        @formSubmit($form)\n\n        return\n\n    formSubmit: ($form) ->\n        $form.submit()\n\n    stopClick: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        return\n\n\n$.fn.extend\n    postify: (options) ->\n        @each( ->\n            if not $(@).data('plugin_postify')\n                $(@).data('plugin_postify', new Postify(@, options))\n        )\n\n$.fn.postify.Postify = Postify\n"]}