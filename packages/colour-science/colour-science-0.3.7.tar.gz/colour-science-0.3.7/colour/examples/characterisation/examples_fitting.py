#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
Showcases colour fitting computations.
"""

from __future__ import division, unicode_literals

import colour
from colour.utilities.verbose import message_box

message_box('Colour Fitting Computations')

message_box(('Fitting a "measured" "ColorChecker" colour rendition chart data '
             'to a "reference" one.\nThe output matrix is the transformation '
             'from "measured" values to "reference" values.\nThis example '
             'uses "first order" colour fitting based on "multiple linear '
             'regressions".'))

reference = (
    ((0.17290600, 0.08205715, 0.05711951),
     (0.56807350, 0.29250361, 0.21942000),
     (0.10437166, 0.19656122, 0.32946697),
     (0.10089156, 0.14839029, 0.05324779),
     (0.22306044, 0.21697008, 0.43151034),
     (0.10718115, 0.51351274, 0.41399101),
     (0.74644090, 0.20020391, 0.03077999),
     (0.05948985, 0.10659048, 0.39884205),
     (0.56735781, 0.08485298, 0.11940265),
     (0.11178198, 0.04285385, 0.14161263),
     (0.34254479, 0.50627811, 0.05571580),
     (0.79268226, 0.35803827, 0.02544159),
     (0.01865226, 0.05139666, 0.28876921),
     (0.05440562, 0.29876767, 0.07183236),
     (0.45631278, 0.03075616, 0.04089930),
     (0.85385852, 0.56503529, 0.01470045),
     (0.53537579, 0.09006281, 0.30467248),
     (-0.03661893, 0.24753827, 0.39810356),
     (0.91186287, 0.91497635, 0.89391370),
     (0.57979860, 0.59203200, 0.59346914),
     (0.35499180, 0.36538033, 0.36757315),
     (0.19011528, 0.19180135, 0.19309001),
     (0.08525591, 0.08890588, 0.09252104),
     (0.03039192, 0.03118624, 0.03278316)))

measured = (
    ((0.15579558910, 0.09715754539, 0.07514556497),
     (0.39113140110, 0.25943419340, 0.21266707780),
     (0.12824821470, 0.18463569880, 0.31508022550),
     (0.12028973550, 0.13455659150, 0.07408399880),
     (0.19368988280, 0.21158945560, 0.37955963610),
     (0.19957424700, 0.36085438730, 0.40678122640),
     (0.48896604780, 0.20691688360, 0.05816533044),
     (0.09775521606, 0.16710692640, 0.47147724030),
     (0.39358648660, 0.12233400340, 0.10526425390),
     (0.10780332240, 0.07258529216, 0.16151472930),
     (0.27502670880, 0.34705454110, 0.09728099406),
     (0.43980440500, 0.26880559330, 0.05430532619),
     (0.05887211859, 0.11126271640, 0.38552469020),
     (0.12705825270, 0.25787860160, 0.13566464190),
     (0.35612928870, 0.07933257520, 0.05118732154),
     (0.48131975530, 0.42082843180, 0.07120611519),
     (0.34665584560, 0.15170714260, 0.24969804290),
     (0.08261115849, 0.24588716030, 0.48707732560),
     (0.66054904460, 0.65941137080, 0.66376411910),
     (0.48051509260, 0.47870296240, 0.48230081800),
     (0.33045354490, 0.32904183860, 0.33228886130),
     (0.18001304570, 0.17978566880, 0.18004415930),
     (0.10283975300, 0.10424679520, 0.10384974630),
     (0.04742204025, 0.04772202671, 0.04914225638)))

print(colour.first_order_colour_fit(reference, measured))
