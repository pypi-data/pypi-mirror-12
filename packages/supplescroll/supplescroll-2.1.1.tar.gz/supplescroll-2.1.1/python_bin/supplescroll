#!/usr/bin/env python
 
import os
import glob
from docopt import docopt
import supplescroll

theme = 'light'

__doc__ = """
Makes HTML with auto-generated TOC, figure list from markdown

Usage: supplescroll [-o <html>] <markdown_or_html> [<theme>]

Options:
 <theme>     light, dark, yolde, sphinx, clown
 -o <html>   Output HTML filename
""" 


if __name__ == "__main__":
  arg = docopt(__doc__)
  in_markdown = arg['<markdown_or_html>']
  if not os.path.isfile(in_markdown):
    raise Exception("%s not found" % in_markdown)

  if arg['<theme>']:  
    theme = arg['<theme>'] 

  if arg['-o']: 
    html = arg['-o']
  else: 
    base, ext = os.path.splitext(arg['<markdown_or_html>'])
    if ext.lower() != '.html' or ext.lower() != '.htm':
      html = base + '.html'

  supplescroll.make_html(theme, in_markdown, html)
  print "Made", html


